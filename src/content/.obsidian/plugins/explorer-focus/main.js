/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  ExplorerFocusPlugin: () => ExplorerFocusPlugin,
  default: () => main_default
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// lang/en.ts
var lang = {
  focus: "Focus",
  enterFocus: "Enter focus",
  exitFocus: "Exit focus",
  toggleFocus: "Toggle focus",
  settings: "Explorer Focus Settings",
  showRightClickMenu: "Show right-click menu option",
  showFileExplorerIcon: "Show file explorer icon",
  focusLevel: "Command focus level",
  focusLevelFile: "Current file only",
  focusLevelParent: "Parent folder",
  focusLevelGrandparent: "Grandparent folder",
  focusLevelGreatGrandparent: "Great grandparent folder",
  focusLevelCustom: "Specific folder",
  focusLevelDesc: "Determines what to focus when using the toggle command or file explorer icon. Right-click menu always focuses the clicked file/folder.",
  customFolderPath: "Custom folder path",
  customFolderPathDesc: "Enter a folder path (folder/subfolder). This folder will be focused regardless of which file is open.",
  hideAncestorFolders: "Hide ancestral indents",
  hideAncestorFoldersDesc: "When enabled, hides parent folder indentation when focusing, making the focused folder appear at root level."
};
var en_default = lang;

// lang/zh.ts
var lang2 = {
  focus: "\u4E13\u6CE8",
  enterFocus: "\u4E13\u6CE8",
  exitFocus: "\u9000\u51FA\u4E13\u6CE8",
  toggleFocus: "\u5207\u6362\u4E13\u6CE8",
  settings: "\u8D44\u6E90\u7BA1\u7406\u5668\u4E13\u6CE8\u8BBE\u7F6E",
  showRightClickMenu: "\u663E\u793A\u53F3\u952E\u83DC\u5355\u9009\u9879",
  showFileExplorerIcon: "\u663E\u793A\u6587\u4EF6\u6D4F\u89C8\u5668\u56FE\u6807",
  focusLevel: "\u547D\u4EE4\u4E13\u6CE8\u7EA7\u522B",
  focusLevelFile: "\u4EC5\u5F53\u524D\u6587\u4EF6",
  focusLevelParent: "\u7236\u6587\u4EF6\u5939",
  focusLevelGrandparent: "\u7956\u7236\u6587\u4EF6\u5939",
  focusLevelGreatGrandparent: "\u66FE\u7956\u7236\u6587\u4EF6\u5939",
  focusLevelCustom: "\u7279\u5B9A\u6587\u4EF6\u5939",
  focusLevelDesc: "\u786E\u5B9A\u4F7F\u7528\u5207\u6362\u547D\u4EE4\u6216\u6587\u4EF6\u6D4F\u89C8\u5668\u56FE\u6807\u65F6\u8981\u805A\u7126\u7684\u5185\u5BB9\u3002\u53F3\u952E\u83DC\u5355\u59CB\u7EC8\u805A\u7126\u5355\u51FB\u7684\u6587\u4EF6/\u6587\u4EF6\u5939\u3002",
  customFolderPath: "\u81EA\u5B9A\u4E49\u6587\u4EF6\u5939\u8DEF\u5F84",
  customFolderPathDesc: "\u8F93\u5165\u6587\u4EF6\u5939\u8DEF\u5F84\uFF08\u6587\u4EF6\u5939/\u5B50\u6587\u4EF6\u5939\uFF09\u3002\u65E0\u8BBA\u6253\u5F00\u54EA\u4E2A\u6587\u4EF6\uFF0C\u90FD\u4F1A\u805A\u7126\u6B64\u6587\u4EF6\u5939\u3002",
  hideAncestorFolders: "\u9690\u85CF\u7956\u5148\u7F29\u8FDB",
  hideAncestorFoldersDesc: "\u542F\u7528\u540E\uFF0C\u805A\u7126\u65F6\u9690\u85CF\u7236\u6587\u4EF6\u5939\u7F29\u8FDB\uFF0C\u4F7F\u805A\u7126\u7684\u6587\u4EF6\u5939\u663E\u793A\u5728\u6839\u7EA7\u522B\u3002"
};
var zh_default = lang2;

// lang/index.ts
var langs = {
  en: en_default,
  zh: zh_default
};
var lang_default = langs;

// src/types.ts
var DEFAULT_SETTINGS = {
  showRightClickMenu: true,
  showFileExplorerIcon: true,
  focusLevel: "parent",
  customFolderPath: "",
  hideAncestorFolders: false
};

// src/ui/settings-tab.ts
var import_obsidian2 = require("obsidian");

// node_modules/.pnpm/monkey-around@3.0.0/node_modules/monkey-around/dist/index.mjs
function around(obj, factories) {
  const removers = Object.keys(factories).map((key) => around1(obj, key, factories[key]));
  return removers.length === 1 ? removers[0] : function() {
    removers.forEach((r) => r());
  };
}
function around1(obj, method, createWrapper) {
  const inherited = obj[method], hadOwn = obj.hasOwnProperty(method), original = hadOwn ? inherited : function() {
    return Object.getPrototypeOf(obj)[method].apply(this, arguments);
  };
  let current = createWrapper(original);
  if (inherited)
    Object.setPrototypeOf(current, inherited);
  Object.setPrototypeOf(wrapper, current);
  obj[method] = wrapper;
  return remove;
  function wrapper(...args) {
    if (current === original && obj[method] === wrapper)
      remove();
    return current.apply(this, args);
  }
  function remove() {
    if (obj[method] === wrapper) {
      if (hadOwn)
        obj[method] = original;
      else
        delete obj[method];
    }
    if (current === original)
      return;
    current = original;
    Object.setPrototypeOf(wrapper, inherited || Function);
  }
}

// src/utils/file-explorer-patch.ts
var prototypePatched = false;
function patchFileExplorer(plugin) {
  const fileExplorer = getFileExplorer(plugin);
  if (!fileExplorer) {
    return;
  }
  if (!prototypePatched) {
    const leaf = plugin.app.workspace.getLeaf(true);
    plugin.register(
      around(Object.getPrototypeOf(fileExplorer), {
        getSortedFolderItems(old) {
          return function(folder) {
            let sortedChildren = old.call(this, folder);
            if (plugin.isFocus && plugin.focusedPath) {
              const focusedPath = plugin.focusedPath;
              sortedChildren = sortedChildren.filter((vEl) => {
                const filePath = vEl.file.path;
                if (filePath === focusedPath) {
                  vEl.info.hidden = false;
                  return true;
                }
                if (filePath.startsWith(focusedPath + "/")) {
                  vEl.info.hidden = false;
                  return true;
                }
                if (focusedPath.startsWith(filePath + "/")) {
                  vEl.info.hidden = false;
                  return true;
                }
                vEl.info.hidden = true;
                return false;
              });
            } else {
              sortedChildren.forEach((vEl) => {
                vEl.info.hidden = false;
              });
            }
            return sortedChildren;
          };
        }
      })
    );
    leaf.detach();
    prototypePatched = true;
  }
  fileExplorer.fileExplorerPlusPatched = true;
}
function getFileExplorer(plugin) {
  var _a;
  const fileExplorerContainer = (_a = plugin.app.workspace.getLeavesOfType("file-explorer")) == null ? void 0 : _a.first();
  return fileExplorerContainer == null ? void 0 : fileExplorerContainer.view;
}
function getAllFileExplorers(plugin) {
  const fileExplorerLeaves = plugin.app.workspace.getLeavesOfType("file-explorer");
  return fileExplorerLeaves.map((leaf) => leaf.view);
}

// src/utils/settings-compat.ts
var import_obsidian = require("obsidian");
var ObsidianModule = __toESM(require("obsidian"), 1);
function createSettingsGroup(containerEl, heading) {
  if ((0, import_obsidian.requireApiVersion)("1.11.0")) {
    const SettingGroupClass = ObsidianModule.SettingGroup;
    if (SettingGroupClass) {
      const group = heading ? new SettingGroupClass(containerEl).setHeading(heading) : new SettingGroupClass(containerEl);
      return {
        addSetting(cb) {
          group.addSetting(cb);
        }
      };
    }
  }
  {
    if (heading) {
      const headingEl = containerEl.createDiv("setting-group-heading");
      headingEl.createEl("h3", { text: heading });
    }
    return {
      addSetting(cb) {
        const setting = new import_obsidian.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/ui/settings-tab.ts
var ExplorerFocusSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const generalGroup = createSettingsGroup(containerEl);
    generalGroup.addSetting((setting) => {
      setting.setName(this.plugin.lang.showRightClickMenu).addToggle((toggle) => toggle.setValue(this.plugin.settings.showRightClickMenu).onChange(async (value) => {
        this.plugin.settings.showRightClickMenu = value;
        await this.plugin.saveSettings();
      }));
    });
    generalGroup.addSetting((setting) => {
      setting.setName(this.plugin.lang.showFileExplorerIcon).addToggle((toggle) => toggle.setValue(this.plugin.settings.showFileExplorerIcon).onChange(async (value) => {
        this.plugin.settings.showFileExplorerIcon = value;
        await this.plugin.saveSettings();
        this.plugin.updateFileExplorerIcon();
      }));
    });
    generalGroup.addSetting((setting) => {
      setting.setName(this.plugin.lang.focusLevel).setDesc(this.plugin.lang.focusLevelDesc).addDropdown((dropdown) => dropdown.addOption("file", this.plugin.lang.focusLevelFile).addOption("parent", this.plugin.lang.focusLevelParent).addOption("grandparent", this.plugin.lang.focusLevelGrandparent).addOption("greatgrandparent", this.plugin.lang.focusLevelGreatGrandparent).addOption("custom", this.plugin.lang.focusLevelCustom).setValue(this.plugin.settings.focusLevel).onChange(async (value) => {
        this.plugin.settings.focusLevel = value;
        await this.plugin.saveSettings();
        if (this.plugin.isFocus) {
          const fileExplorers = getAllFileExplorers(this.plugin);
          fileExplorers.forEach((fileExplorer) => {
            if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
              fileExplorer.requestSort();
            }
          });
        }
        this.display();
      }));
    });
    if (this.plugin.settings.focusLevel === "custom") {
      generalGroup.addSetting((setting) => {
        setting.setName(this.plugin.lang.customFolderPath).setDesc(this.plugin.lang.customFolderPathDesc).addText((text) => text.setPlaceholder("Folder/subfolder").setValue(this.plugin.settings.customFolderPath).onChange(async (value) => {
          this.plugin.settings.customFolderPath = value;
          await this.plugin.saveSettings();
        }));
      });
    }
  }
};

// src/utils/focus.ts
function getFocusPath(path, level, settings) {
  if (level === "custom") {
    return settings.customFolderPath || path;
  }
  if (level === "file") {
    return path;
  }
  const parts = path.split("/");
  if (level === "parent") {
    if (parts.length === 1) {
      return path;
    }
    return parts.slice(0, -1).join("/");
  }
  if (level === "grandparent") {
    if (parts.length <= 2) {
      return parts[0] || path;
    }
    return parts.slice(0, -2).join("/");
  }
  if (parts.length <= 3) {
    return parts[0] || path;
  }
  return parts.slice(0, -3).join("/");
}

// src/commands/index.ts
function registerCommands(plugin) {
  plugin.addCommand({
    id: "toggle",
    name: plugin.lang.toggleFocus,
    callback: () => {
      if (plugin.isFocus) {
        plugin.exitFocus();
      } else {
        if (plugin.settings.focusLevel === "custom") {
          if (plugin.settings.customFolderPath) {
            plugin.enterFocus(plugin.settings.customFolderPath);
          }
        } else {
          const file = plugin.app.workspace.getActiveFile();
          if (file == null ? void 0 : file.path) {
            const focusPath = getFocusPath(file.path, plugin.settings.focusLevel, plugin.settings);
            plugin.enterFocus(focusPath);
          }
        }
      }
    }
  });
  if (plugin.settings.showRightClickMenu) {
    plugin.registerEvent(
      plugin.app.workspace.on("file-menu", (menu, file) => {
        if (!plugin.settings.showRightClickMenu) {
          return;
        }
        menu.addItem((item) => {
          item.setTitle(plugin.isFocus ? plugin.lang.exitFocus : plugin.lang.focus).setIcon(plugin.isFocus ? "log-out" : "focus").onClick(async () => {
            plugin.toggleFocus(file == null ? void 0 : file.path);
          });
        });
      })
    );
  }
}

// src/utils/file-explorer.ts
function findNavButtonsContainer(fileExplorerView) {
  var _a;
  let container = fileExplorerView.querySelector(".nav-buttons-container");
  if (container) {
    return container;
  }
  container = fileExplorerView.querySelector(".nav-header-button-container");
  if (container) {
    return container;
  }
  const existingButtons = fileExplorerView.querySelectorAll(".nav-action-button");
  if (existingButtons.length > 0) {
    const firstButton = existingButtons[0];
    const parent = firstButton.parentElement;
    if (parent && (parent.classList.contains("nav-buttons-container") || parent.classList.contains("nav-header-button-container") || Array.from(parent.children).some((el) => el.classList.contains("nav-action-button")))) {
      return parent;
    }
  }
  const viewHeader = fileExplorerView.querySelector(".view-header");
  if (viewHeader) {
    const headerContainer = viewHeader.querySelector(".nav-buttons-container") || viewHeader.querySelector(".nav-header-button-container") || viewHeader.querySelector(".view-header-title-container");
    if (headerContainer) {
      return headerContainer;
    }
    return viewHeader;
  }
  const navFilesContainer = fileExplorerView.querySelector(".nav-files-container");
  if (navFilesContainer) {
    let mobileButtonContainer = fileExplorerView.querySelector(".explorer-focus-mobile-buttons");
    if (!mobileButtonContainer) {
      mobileButtonContainer = document.createElement("div");
      mobileButtonContainer.className = "nav-buttons-container explorer-focus-mobile-buttons";
      mobileButtonContainer.setCssProps({
        display: "flex",
        alignItems: "center",
        gap: "4px",
        padding: "8px",
        borderBottom: "1px solid var(--background-modifier-border)"
      });
      (_a = navFilesContainer.parentElement) == null ? void 0 : _a.insertBefore(mobileButtonContainer, navFilesContainer);
    }
    return mobileButtonContainer;
  }
  let topContainer = fileExplorerView.querySelector(".explorer-focus-mobile-buttons");
  if (!topContainer) {
    topContainer = document.createElement("div");
    topContainer.className = "nav-buttons-container explorer-focus-mobile-buttons";
    topContainer.setCssProps({
      display: "flex",
      alignItems: "center",
      gap: "4px",
      padding: "8px",
      borderBottom: "1px solid var(--background-modifier-border)"
    });
    fileExplorerView.insertBefore(topContainer, fileExplorerView.firstChild);
  }
  return topContainer;
}
function createFileExplorerIcon(plugin) {
  const icon = document.createElement("div");
  icon.className = "clickable-icon nav-action-button";
  icon.setAttribute("aria-label", plugin.lang.toggleFocus);
  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");
  svg.setAttribute("width", "24");
  svg.setAttribute("height", "24");
  svg.setAttribute("viewBox", "0 0 24 24");
  svg.setAttribute("fill", "none");
  svg.setAttribute("stroke", "currentColor");
  svg.setAttribute("stroke-width", "2");
  svg.setAttribute("stroke-linecap", "round");
  svg.setAttribute("stroke-linejoin", "round");
  svg.setAttribute("class", "svg-icon lucide-focus");
  const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
  circle.setAttribute("cx", "12");
  circle.setAttribute("cy", "12");
  circle.setAttribute("r", "3");
  svg.appendChild(circle);
  const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path1.setAttribute("d", "M3 7V5a2 2 0 0 1 2-2h2");
  svg.appendChild(path1);
  const path2 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path2.setAttribute("d", "M17 3h2a2 2 0 0 1 2 2v2");
  svg.appendChild(path2);
  const path3 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path3.setAttribute("d", "M21 17v2a2 2 0 0 1-2 2h-2");
  svg.appendChild(path3);
  const path4 = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path4.setAttribute("d", "M7 21H5a2 2 0 0 1-2-2v-2");
  svg.appendChild(path4);
  icon.appendChild(svg);
  return icon;
}
function insertFileExplorerIcon(icon, navButtonsContainer) {
  if (navButtonsContainer.contains(icon)) {
    return;
  }
  const allIcons = Array.from(navButtonsContainer.querySelectorAll(".clickable-icon.nav-action-button"));
  const defaultIcons = allIcons.filter((el) => !el.classList.contains("cmdr") && el !== icon);
  const cmdrIcons = Array.from(navButtonsContainer.querySelectorAll(".cmdr"));
  if (cmdrIcons.length > 0) {
    navButtonsContainer.insertBefore(icon, cmdrIcons[0]);
  } else if (defaultIcons.length > 0) {
    const lastIcon = defaultIcons[defaultIcons.length - 1];
    if (lastIcon.nextSibling) {
      navButtonsContainer.insertBefore(icon, lastIcon.nextSibling);
    } else {
      navButtonsContainer.appendChild(icon);
    }
  } else {
    navButtonsContainer.appendChild(icon);
  }
}

// src/main.ts
var ExplorerFocusPlugin = class extends import_obsidian3.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    const obsidianLangName = window.localStorage.getItem("language");
    const langName = obsidianLangName === "zh" ? "zh" : "en";
    this.lang = lang_default[langName];
    this.isFocus = false;
    this.focusedPath = null;
    this.fileExplorerIcon = null;
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new ExplorerFocusSettingTab(this.app, this));
    registerCommands(this);
    if (this.settings.showFileExplorerIcon) {
      this.addFileExplorerIcon();
    }
    this.app.workspace.onLayoutReady(() => {
      this.patchAllFileExplorers();
      this.updateFocusModeClasses();
    });
    this.app.workspace.on("layout-change", () => {
      this.patchAllFileExplorers();
      this.updateFocusModeClasses();
    });
  }
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, loadedData);
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  toggleFocus(path) {
    if (this.isFocus) {
      this.exitFocus();
    } else if (path) {
      this.enterFocus(path);
    }
  }
  enterFocus(path) {
    this.isFocus = true;
    this.focusedPath = path;
    this.updateFileExplorerIcon();
    this.updateFocusModeClasses();
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
        fileExplorer.requestSort();
      }
    });
    setTimeout(() => {
      fileExplorers.forEach((fileExplorer) => {
        this.refreshFileExplorerVisibility(fileExplorer);
      });
    }, 0);
  }
  patchAllFileExplorers() {
    patchFileExplorer(this);
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      fileExplorer.fileExplorerPlusPatched = true;
    });
  }
  exitFocus() {
    this.isFocus = false;
    this.focusedPath = null;
    this.updateFileExplorerIcon();
    this.updateFocusModeClasses();
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      if (fileExplorer == null ? void 0 : fileExplorer.requestSort) {
        fileExplorer.requestSort();
      }
    });
    setTimeout(() => {
      fileExplorers.forEach((fileExplorer) => {
        this.refreshFileExplorerVisibility(fileExplorer);
      });
    }, 0);
  }
  refreshFileExplorerVisibility(fileExplorer) {
    if (!(fileExplorer == null ? void 0 : fileExplorer.fileItems)) {
      return;
    }
    Object.values(fileExplorer.fileItems).forEach((vEl) => {
      if (!vEl || !vEl.el) {
        return;
      }
      const filePath = vEl.file.path;
      let shouldShow = true;
      if (this.isFocus && this.focusedPath) {
        const focusedPath = this.focusedPath;
        if (filePath === focusedPath) {
          shouldShow = true;
        } else if (filePath.startsWith(focusedPath + "/")) {
          shouldShow = true;
        } else if (focusedPath.startsWith(filePath + "/")) {
          shouldShow = true;
        } else {
          shouldShow = false;
        }
      }
      if (vEl.info) {
        vEl.info.hidden = !shouldShow;
      }
      if (shouldShow) {
        vEl.el.setCssProps({ display: "" });
        vEl.el.removeAttribute("data-explorer-focus-hidden");
      } else {
        vEl.el.setCssProps({ display: "none" });
        vEl.el.setAttribute("data-explorer-focus-hidden", "true");
      }
    });
  }
  updateFocusModeClasses() {
    const fileExplorers = getAllFileExplorers(this);
    fileExplorers.forEach((fileExplorer) => {
      const containerEl = fileExplorer.containerEl;
      if (this.isFocus) {
        containerEl.addClass("explorer-focus-mode");
      } else {
        containerEl.removeClass("explorer-focus-mode");
      }
    });
  }
  addFileExplorerIcon() {
    const handleIconClick = () => {
      if (this.isFocus) {
        this.exitFocus();
      } else {
        if (this.settings.focusLevel === "custom") {
          if (this.settings.customFolderPath) {
            this.enterFocus(this.settings.customFolderPath);
          }
        } else {
          const file = this.app.workspace.getActiveFile();
          if (file == null ? void 0 : file.path) {
            const focusPath = getFocusPath(file.path, this.settings.focusLevel, this.settings);
            this.enterFocus(focusPath);
          }
        }
      }
    };
    const addIconToFileExplorer = () => {
      const fileExplorerLeaves = this.app.workspace.getLeavesOfType("file-explorer");
      if (fileExplorerLeaves.length === 0) {
        return;
      }
      const fileExplorerView = fileExplorerLeaves[0].view.containerEl;
      const navButtonsContainer = findNavButtonsContainer(fileExplorerView);
      if (!navButtonsContainer) {
        return;
      }
      if (this.fileExplorerIcon && navButtonsContainer.contains(this.fileExplorerIcon)) {
        return;
      }
      if (this.fileExplorerIcon && this.fileExplorerIcon.parentElement) {
        this.fileExplorerIcon.remove();
      }
      if (!this.fileExplorerIcon) {
        this.fileExplorerIcon = createFileExplorerIcon(this);
        this.fileExplorerIcon.setCssProps({ touchAction: "manipulation" });
        let touchHandled = false;
        this.registerDomEvent(this.fileExplorerIcon, "touchstart", (evt) => {
          touchHandled = true;
          evt.preventDefault();
          evt.stopPropagation();
          handleIconClick();
          setTimeout(() => {
            touchHandled = false;
          }, 300);
        });
        this.registerDomEvent(this.fileExplorerIcon, "click", (evt) => {
          if (touchHandled) {
            evt.preventDefault();
            evt.stopPropagation();
            return;
          }
          evt.preventDefault();
          evt.stopPropagation();
          handleIconClick();
        });
      }
      this.updateFileExplorerIcon();
      insertFileExplorerIcon(this.fileExplorerIcon, navButtonsContainer);
    };
    addIconToFileExplorer();
    this.registerEvent(
      this.app.workspace.on("layout-change", () => {
        if (this.settings.showFileExplorerIcon) {
          addIconToFileExplorer();
        }
      })
    );
  }
  updateFileExplorerIcon() {
    if (!this.fileExplorerIcon) {
      return;
    }
    if (!this.settings.showFileExplorerIcon) {
      if (this.fileExplorerIcon.parentElement) {
        this.fileExplorerIcon.remove();
      }
      return;
    }
    if (!this.fileExplorerIcon.parentElement) {
      const fileExplorerLeaves = this.app.workspace.getLeavesOfType("file-explorer");
      if (fileExplorerLeaves.length > 0) {
        const fileExplorerView = fileExplorerLeaves[0].view.containerEl;
        const navButtonsContainer = findNavButtonsContainer(fileExplorerView);
        if (navButtonsContainer) {
          insertFileExplorerIcon(this.fileExplorerIcon, navButtonsContainer);
        }
      }
    }
    if (this.fileExplorerIcon.style.cursor) {
      this.fileExplorerIcon.style.removeProperty("cursor");
    }
    if (this.isFocus) {
      this.fileExplorerIcon.addClass("is-active");
    } else {
      this.fileExplorerIcon.removeClass("is-active");
    }
  }
  onunload() {
    if (this.fileExplorerIcon) {
      this.fileExplorerIcon.remove();
      this.fileExplorerIcon = null;
    }
  }
};
var main_default = ExplorerFocusPlugin;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAibGFuZy9lbi50cyIsICJsYW5nL3poLnRzIiwgImxhbmcvaW5kZXgudHMiLCAic3JjL3R5cGVzLnRzIiwgInNyYy91aS9zZXR0aW5ncy10YWIudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL21vbmtleS1hcm91bmRAMy4wLjAvbm9kZV9tb2R1bGVzL21vbmtleS1hcm91bmQvZGlzdC9pbmRleC5tanMiLCAic3JjL3V0aWxzL2ZpbGUtZXhwbG9yZXItcGF0Y2gudHMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvdXRpbHMvZm9jdXMudHMiLCAic3JjL2NvbW1hbmRzL2luZGV4LnRzIiwgInNyYy91dGlscy9maWxlLWV4cGxvcmVyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IGxhbmdzLCB7IExhbmcgfSBmcm9tICcuLi9sYW5nJztcclxuaW1wb3J0IHsgRXhwbG9yZXJGb2N1c1NldHRpbmdzLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IEV4cGxvcmVyRm9jdXNTZXR0aW5nVGFiIH0gZnJvbSAnLi91aS9zZXR0aW5ncy10YWInO1xyXG5pbXBvcnQgeyByZWdpc3RlckNvbW1hbmRzIH0gZnJvbSAnLi9jb21tYW5kcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUZpbGVFeHBsb3Jlckljb24sIGluc2VydEZpbGVFeHBsb3Jlckljb24sIGZpbmROYXZCdXR0b25zQ29udGFpbmVyIH0gZnJvbSAnLi91dGlscy9maWxlLWV4cGxvcmVyJztcclxuaW1wb3J0IHsgcGF0Y2hGaWxlRXhwbG9yZXIgYXMgcGF0Y2hGaWxlRXhwbG9yZXJVdGlsLCBnZXRBbGxGaWxlRXhwbG9yZXJzLCBGaWxlRXhwbG9yZXJWaWV3IH0gZnJvbSAnLi91dGlscy9maWxlLWV4cGxvcmVyLXBhdGNoJztcclxuaW1wb3J0IHsgZ2V0Rm9jdXNQYXRoIH0gZnJvbSAnLi91dGlscy9mb2N1cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRXhwbG9yZXJGb2N1c1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0aXNGb2N1czogYm9vbGVhbjtcclxuXHRmb2N1c2VkUGF0aDogc3RyaW5nIHwgbnVsbDtcclxuXHRsYW5nOiBMYW5nO1xyXG5cdHNldHRpbmdzITogRXhwbG9yZXJGb2N1c1NldHRpbmdzO1xyXG5cdGZpbGVFeHBsb3Jlckljb246IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xyXG5cdFx0c3VwZXIoYXBwLCBtYW5pZmVzdCk7XHJcblx0XHRjb25zdCBvYnNpZGlhbkxhbmdOYW1lID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYW5ndWFnZScpO1xyXG5cdFx0Y29uc3QgbGFuZ05hbWUgPSBvYnNpZGlhbkxhbmdOYW1lID09PSAnemgnID8gJ3poJyA6ICdlbic7XHJcblx0XHR0aGlzLmxhbmcgPSBsYW5nc1tsYW5nTmFtZV07XHJcblx0XHR0aGlzLmlzRm9jdXMgPSBmYWxzZTtcclxuXHRcdHRoaXMuZm9jdXNlZFBhdGggPSBudWxsO1xyXG5cdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBFeHBsb3JlckZvY3VzU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdHJlZ2lzdGVyQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVFeHBsb3Jlckljb24pIHtcclxuXHRcdFx0dGhpcy5hZGRGaWxlRXhwbG9yZXJJY29uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnBhdGNoQWxsRmlsZUV4cGxvcmVycygpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUZvY3VzTW9kZUNsYXNzZXMoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImxheW91dC1jaGFuZ2VcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnBhdGNoQWxsRmlsZUV4cGxvcmVycygpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUZvY3VzTW9kZUNsYXNzZXMoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0Y29uc3QgbG9hZGVkRGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKSBhcyBQYXJ0aWFsPEV4cGxvcmVyRm9jdXNTZXR0aW5ncz4gfCBudWxsO1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGxvYWRlZERhdGEpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdHRvZ2dsZUZvY3VzKHBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKHRoaXMuaXNGb2N1cykge1xyXG5cdFx0XHR0aGlzLmV4aXRGb2N1cygpO1xyXG5cdFx0fSBlbHNlIGlmIChwYXRoKSB7XHJcblx0XHRcdHRoaXMuZW50ZXJGb2N1cyhwYXRoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGVudGVyRm9jdXMocGF0aDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlzRm9jdXMgPSB0cnVlO1xyXG5cdFx0dGhpcy5mb2N1c2VkUGF0aCA9IHBhdGg7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBpY29uIGlmIGl0IGV4aXN0c1xyXG5cdFx0dGhpcy51cGRhdGVGaWxlRXhwbG9yZXJJY29uKCk7XHJcblx0XHRcclxuXHRcdC8vIFVwZGF0ZSBDU1MgY2xhc3Nlc1xyXG5cdFx0dGhpcy51cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk7XHJcblx0XHRcclxuXHRcdC8vIFRyaWdnZXIgZmlsZSBleHBsb3JlciByZWZyZXNoIG9uIGFsbCBmaWxlIGV4cGxvcmVyIGluc3RhbmNlc1xyXG5cdFx0Y29uc3QgZmlsZUV4cGxvcmVycyA9IGdldEFsbEZpbGVFeHBsb3JlcnModGhpcyk7XHJcblx0XHRmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcclxuXHRcdFx0aWYgKGZpbGVFeHBsb3Jlcj8ucmVxdWVzdFNvcnQpIHtcclxuXHRcdFx0XHRmaWxlRXhwbG9yZXIucmVxdWVzdFNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHRcdC8vIEZvcmNlIHJlZnJlc2ggYnkgbWFudWFsbHkgdXBkYXRpbmcgdmlzaWJpbGl0eSAoZXNwZWNpYWxseSBpbXBvcnRhbnQgb24gbW9iaWxlKVxyXG5cdFx0Ly8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIERPTSBpcyByZWFkeSBhZnRlciByZXF1ZXN0U29ydFxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGZpbGVFeHBsb3JlcnMuZm9yRWFjaChmaWxlRXhwbG9yZXIgPT4ge1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaEZpbGVFeHBsb3JlclZpc2liaWxpdHkoZmlsZUV4cGxvcmVyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LCAwKTtcclxuXHR9XHJcblxyXG5cdHBhdGNoQWxsRmlsZUV4cGxvcmVycygpOiB2b2lkIHtcclxuXHRcdC8vIFBhdGNoIHRoZSBwcm90b3R5cGUgKG9uY2UpIGFuZCBtYXJrIGFsbCBpbnN0YW5jZXNcclxuXHRcdHBhdGNoRmlsZUV4cGxvcmVyVXRpbCh0aGlzKTtcclxuXHRcdGNvbnN0IGZpbGVFeHBsb3JlcnMgPSBnZXRBbGxGaWxlRXhwbG9yZXJzKHRoaXMpO1xyXG5cdFx0ZmlsZUV4cGxvcmVycy5mb3JFYWNoKGZpbGVFeHBsb3JlciA9PiB7XHJcblx0XHRcdGZpbGVFeHBsb3Jlci5maWxlRXhwbG9yZXJQbHVzUGF0Y2hlZCA9IHRydWU7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGV4aXRGb2N1cygpIHtcclxuXHRcdHRoaXMuaXNGb2N1cyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5mb2N1c2VkUGF0aCA9IG51bGw7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIGljb24gaWYgaXQgZXhpc3RzXHJcblx0XHR0aGlzLnVwZGF0ZUZpbGVFeHBsb3Jlckljb24oKTtcclxuXHRcdFxyXG5cdFx0Ly8gVXBkYXRlIENTUyBjbGFzc2VzXHJcblx0XHR0aGlzLnVwZGF0ZUZvY3VzTW9kZUNsYXNzZXMoKTtcclxuXHRcdFxyXG5cdFx0Ly8gVHJpZ2dlciBmaWxlIGV4cGxvcmVyIHJlZnJlc2ggb24gYWxsIGZpbGUgZXhwbG9yZXIgaW5zdGFuY2VzXHJcblx0XHRjb25zdCBmaWxlRXhwbG9yZXJzID0gZ2V0QWxsRmlsZUV4cGxvcmVycyh0aGlzKTtcclxuXHRcdGZpbGVFeHBsb3JlcnMuZm9yRWFjaChmaWxlRXhwbG9yZXIgPT4ge1xyXG5cdFx0XHRpZiAoZmlsZUV4cGxvcmVyPy5yZXF1ZXN0U29ydCkge1xyXG5cdFx0XHRcdGZpbGVFeHBsb3Jlci5yZXF1ZXN0U29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0Ly8gRm9yY2UgcmVmcmVzaCBieSBtYW51YWxseSB1cGRhdGluZyB2aXNpYmlsaXR5IChlc3BlY2lhbGx5IGltcG9ydGFudCBvbiBtb2JpbGUpXHJcblx0XHQvLyBVc2Ugc2V0VGltZW91dCB0byBlbnN1cmUgRE9NIGlzIHJlYWR5IGFmdGVyIHJlcXVlc3RTb3J0XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZmlsZUV4cGxvcmVycy5mb3JFYWNoKGZpbGVFeHBsb3JlciA9PiB7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoRmlsZUV4cGxvcmVyVmlzaWJpbGl0eShmaWxlRXhwbG9yZXIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sIDApO1xyXG5cdH1cclxuXHJcblx0cmVmcmVzaEZpbGVFeHBsb3JlclZpc2liaWxpdHkoZmlsZUV4cGxvcmVyOiBGaWxlRXhwbG9yZXJWaWV3KTogdm9pZCB7XHJcblx0XHRpZiAoIWZpbGVFeHBsb3Jlcj8uZmlsZUl0ZW1zKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNYW51YWxseSB1cGRhdGUgdmlzaWJpbGl0eSBvZiBhbGwgZmlsZSBpdGVtcyBpbiB0aGUgRE9NXHJcblx0XHRPYmplY3QudmFsdWVzKGZpbGVFeHBsb3Jlci5maWxlSXRlbXMpLmZvckVhY2goKHZFbCkgPT4ge1xyXG5cdFx0XHRpZiAoIXZFbCB8fCAhdkVsLmVsKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmaWxlUGF0aCA9IHZFbC5maWxlLnBhdGg7XHJcblx0XHRcdGxldCBzaG91bGRTaG93ID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmICh0aGlzLmlzRm9jdXMgJiYgdGhpcy5mb2N1c2VkUGF0aCkge1xyXG5cdFx0XHRcdGNvbnN0IGZvY3VzZWRQYXRoID0gdGhpcy5mb2N1c2VkUGF0aDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBTaG93IGl0ZW1zIHRoYXQgbWF0Y2ggdGhlIGZvY3VzZWQgcGF0aCBleGFjdGx5XHJcblx0XHRcdFx0aWYgKGZpbGVQYXRoID09PSBmb2N1c2VkUGF0aCkge1xyXG5cdFx0XHRcdFx0c2hvdWxkU2hvdyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIFNob3cgaXRlbXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgdGhlIGZvY3VzZWQgcGF0aFxyXG5cdFx0XHRcdGVsc2UgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoZm9jdXNlZFBhdGggKyBcIi9cIikpIHtcclxuXHRcdFx0XHRcdHNob3VsZFNob3cgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBTaG93IGl0ZW1zIHRoYXQgYXJlIGFuY2VzdG9ycyBvZiB0aGUgZm9jdXNlZCBwYXRoIChwYXJlbnQgY2hhaW4pXHJcblx0XHRcdFx0ZWxzZSBpZiAoZm9jdXNlZFBhdGguc3RhcnRzV2l0aChmaWxlUGF0aCArIFwiL1wiKSkge1xyXG5cdFx0XHRcdFx0c2hvdWxkU2hvdyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIEhpZGUgZXZlcnl0aGluZyBlbHNlXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRzaG91bGRTaG93ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgdGhlIGhpZGRlbiBzdGF0ZSBpbiB0aGUgdmlydHVhbCBlbGVtZW50XHJcblx0XHRcdGlmICh2RWwuaW5mbykge1xyXG5cdFx0XHRcdHZFbC5pbmZvLmhpZGRlbiA9ICFzaG91bGRTaG93O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBbHNvIGRpcmVjdGx5IHVwZGF0ZSB0aGUgRE9NIGVsZW1lbnQgdmlzaWJpbGl0eVxyXG5cdFx0XHRpZiAoc2hvdWxkU2hvdykge1xyXG5cdFx0XHRcdHZFbC5lbC5zZXRDc3NQcm9wcyh7IGRpc3BsYXk6ICcnIH0pO1xyXG5cdFx0XHRcdHZFbC5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZXhwbG9yZXItZm9jdXMtaGlkZGVuJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dkVsLmVsLnNldENzc1Byb3BzKHsgZGlzcGxheTogJ25vbmUnIH0pO1xyXG5cdFx0XHRcdHZFbC5lbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZXhwbG9yZXItZm9jdXMtaGlkZGVuJywgJ3RydWUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGb2N1c01vZGVDbGFzc2VzKCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgZmlsZUV4cGxvcmVycyA9IGdldEFsbEZpbGVFeHBsb3JlcnModGhpcyk7XHJcblx0XHRmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcclxuXHRcdFx0Y29uc3QgY29udGFpbmVyRWwgPSBmaWxlRXhwbG9yZXIuY29udGFpbmVyRWw7XHJcblx0XHRcdGlmICh0aGlzLmlzRm9jdXMpIHtcclxuXHRcdFx0XHRjb250YWluZXJFbC5hZGRDbGFzcyhcImV4cGxvcmVyLWZvY3VzLW1vZGVcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29udGFpbmVyRWwucmVtb3ZlQ2xhc3MoXCJleHBsb3Jlci1mb2N1cy1tb2RlXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHRhZGRGaWxlRXhwbG9yZXJJY29uKCkge1xyXG5cdFx0Y29uc3QgaGFuZGxlSWNvbkNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRpZiAodGhpcy5pc0ZvY3VzKSB7XHJcblx0XHRcdFx0dGhpcy5leGl0Rm9jdXMoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5mb2N1c0xldmVsID09PSAnY3VzdG9tJykge1xyXG5cdFx0XHRcdFx0Ly8gRm9yIGN1c3RvbSBmb2xkZXIsIHVzZSB0aGUgY3VzdG9tIHBhdGggZGlyZWN0bHlcclxuXHRcdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGgpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5lbnRlckZvY3VzKHRoaXMuc2V0dGluZ3MuY3VzdG9tRm9sZGVyUGF0aCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vIEZvciBvdGhlciBsZXZlbHMsIG5lZWQgdGhlIGN1cnJlbnQgZmlsZVxyXG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRcdFx0XHRpZiAoZmlsZT8ucGF0aCkge1xyXG5cdFx0XHRcdFx0XHRjb25zdCBmb2N1c1BhdGggPSBnZXRGb2N1c1BhdGgoZmlsZS5wYXRoLCB0aGlzLnNldHRpbmdzLmZvY3VzTGV2ZWwsIHRoaXMuc2V0dGluZ3MpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVudGVyRm9jdXMoZm9jdXNQYXRoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgYWRkSWNvblRvRmlsZUV4cGxvcmVyID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJMZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdmaWxlLWV4cGxvcmVyJyk7XHJcblx0XHRcdGlmIChmaWxlRXhwbG9yZXJMZWF2ZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJWaWV3ID0gZmlsZUV4cGxvcmVyTGVhdmVzWzBdLnZpZXcuY29udGFpbmVyRWw7XHJcblx0XHRcdGNvbnN0IG5hdkJ1dHRvbnNDb250YWluZXIgPSBmaW5kTmF2QnV0dG9uc0NvbnRhaW5lcihmaWxlRXhwbG9yZXJWaWV3KTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghbmF2QnV0dG9uc0NvbnRhaW5lcikge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgaWYgaWNvbiBhbHJlYWR5IGV4aXN0cyBpbiB0aGlzIGNvbnRhaW5lclxyXG5cdFx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uICYmIG5hdkJ1dHRvbnNDb250YWluZXIuY29udGFpbnModGhpcy5maWxlRXhwbG9yZXJJY29uKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIG9sZCBpY29uIGlmIGl0IGV4aXN0cyBlbHNld2hlcmVcclxuXHRcdFx0aWYgKHRoaXMuZmlsZUV4cGxvcmVySWNvbiAmJiB0aGlzLmZpbGVFeHBsb3Jlckljb24ucGFyZW50RWxlbWVudCkge1xyXG5cdFx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5yZW1vdmUoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBpY29uIGJ1dHRvbiBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcblx0XHRcdGlmICghdGhpcy5maWxlRXhwbG9yZXJJY29uKSB7XHJcblx0XHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uID0gY3JlYXRlRmlsZUV4cGxvcmVySWNvbih0aGlzKTtcclxuXHJcblx0XHRcdFx0Ly8gRG9uJ3Qgc2V0IGN1cnNvciAtIGxldCBpdCBpbmhlcml0IGZyb20gLmNsaWNrYWJsZS1pY29uIGNsYXNzIChjdXJzb3I6IHZhcigtLWN1cnNvcikpXHJcblx0XHRcdFx0Ly8gVGhpcyBtYXRjaGVzIG90aGVyIGZpbGUgZXhwbG9yZXIgaWNvbnMgd2hpY2ggdXNlIHRoZSBDU1MgdmFyaWFibGVcclxuXHRcdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24uc2V0Q3NzUHJvcHMoeyB0b3VjaEFjdGlvbjogJ21hbmlwdWxhdGlvbicgfSk7XHJcblxyXG5cdFx0XHRcdC8vIFVzZSBhIHVuaWZpZWQgaGFuZGxlciB0aGF0IHdvcmtzIGZvciBib3RoIGNsaWNrIGFuZCB0b3VjaFxyXG5cdFx0XHRcdC8vIE9uIG1vYmlsZSwgdG91Y2ggZXZlbnRzIHR5cGljYWxseSB0cmlnZ2VyIGNsaWNrLCBidXQgd2UgaGFuZGxlIGJvdGggdG8gYmUgc2FmZVxyXG5cdFx0XHRcdGxldCB0b3VjaEhhbmRsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQodGhpcy5maWxlRXhwbG9yZXJJY29uLCAndG91Y2hzdGFydCcsIChldnQpID0+IHtcclxuXHRcdFx0XHRcdHRvdWNoSGFuZGxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdGhhbmRsZUljb25DbGljaygpO1xyXG5cdFx0XHRcdFx0Ly8gUmVzZXQgZmxhZyBhZnRlciBhIHNob3J0IGRlbGF5XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHsgdG91Y2hIYW5kbGVkID0gZmFsc2U7IH0sIDMwMCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudCh0aGlzLmZpbGVFeHBsb3Jlckljb24sICdjbGljaycsIChldnQpID0+IHtcclxuXHRcdFx0XHRcdC8vIElmIHRvdWNoc3RhcnQgYWxyZWFkeSBoYW5kbGVkIGl0LCBza2lwIGNsaWNrIHRvIGF2b2lkIGRvdWJsZS1maXJpbmdcclxuXHRcdFx0XHRcdGlmICh0b3VjaEhhbmRsZWQpIHtcclxuXHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRoYW5kbGVJY29uQ2xpY2soKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gU2V0L3VwZGF0ZSBpY29uXHJcblx0XHRcdHRoaXMudXBkYXRlRmlsZUV4cGxvcmVySWNvbigpO1xyXG5cclxuXHRcdFx0Ly8gSW5zZXJ0IGljb24gaW4gY29ycmVjdCBwb3NpdGlvblxyXG5cdFx0XHRpbnNlcnRGaWxlRXhwbG9yZXJJY29uKHRoaXMuZmlsZUV4cGxvcmVySWNvbiwgbmF2QnV0dG9uc0NvbnRhaW5lcik7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFRyeSB0byBhZGQgaW1tZWRpYXRlbHlcclxuXHRcdGFkZEljb25Ub0ZpbGVFeHBsb3JlcigpO1xyXG5cclxuXHRcdC8vIEFsc28gbGlzdGVuIGZvciB3b3Jrc3BhY2UgY2hhbmdlcyBpbiBjYXNlIGZpbGUgZXhwbG9yZXIgaXMgY3JlYXRlZCBsYXRlclxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1jaGFuZ2UnLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd0ZpbGVFeHBsb3Jlckljb24pIHtcclxuXHRcdFx0XHRcdGFkZEljb25Ub0ZpbGVFeHBsb3JlcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGaWxlRXhwbG9yZXJJY29uKCkge1xyXG5cdFx0aWYgKCF0aGlzLmZpbGVFeHBsb3Jlckljb24pIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy5zaG93RmlsZUV4cGxvcmVySWNvbikge1xyXG5cdFx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24ucmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEVuc3VyZSBpY29uIGlzIGluIERPTSBpZiBzZXR0aW5nIGlzIGVuYWJsZWRcclxuXHRcdGlmICghdGhpcy5maWxlRXhwbG9yZXJJY29uLnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdFx0Ly8gUmUtaW5zZXJ0IHRoZSBpY29uIGludG8gdGhlIGZpbGUgZXhwbG9yZXJcclxuXHRcdFx0Y29uc3QgZmlsZUV4cGxvcmVyTGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnZmlsZS1leHBsb3JlcicpO1xyXG5cdFx0XHRpZiAoZmlsZUV4cGxvcmVyTGVhdmVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJWaWV3ID0gZmlsZUV4cGxvcmVyTGVhdmVzWzBdLnZpZXcuY29udGFpbmVyRWw7XHJcblx0XHRcdFx0Y29uc3QgbmF2QnV0dG9uc0NvbnRhaW5lciA9IGZpbmROYXZCdXR0b25zQ29udGFpbmVyKGZpbGVFeHBsb3JlclZpZXcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmIChuYXZCdXR0b25zQ29udGFpbmVyKSB7XHJcblx0XHRcdFx0XHRpbnNlcnRGaWxlRXhwbG9yZXJJY29uKHRoaXMuZmlsZUV4cGxvcmVySWNvbiwgbmF2QnV0dG9uc0NvbnRhaW5lcik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRG9uJ3Qgc2V0IGN1cnNvciAtIGxldCBpdCBpbmhlcml0IGZyb20gLmNsaWNrYWJsZS1pY29uIGNsYXNzIChjdXJzb3I6IHZhcigtLWN1cnNvcikpXHJcblx0XHQvLyBUaGlzIG1hdGNoZXMgb3RoZXIgZmlsZSBleHBsb3JlciBpY29ucyB3aGljaCB1c2UgdGhlIENTUyB2YXJpYWJsZVxyXG5cdFx0aWYgKHRoaXMuZmlsZUV4cGxvcmVySWNvbi5zdHlsZS5jdXJzb3IpIHtcclxuXHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdjdXJzb3InKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUb2dnbGUgaXMtYWN0aXZlIGNsYXNzIGJhc2VkIG9uIGZvY3VzIHN0YXRlXHJcblx0XHRpZiAodGhpcy5pc0ZvY3VzKSB7XHJcblx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmZpbGVFeHBsb3Jlckljb24ucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHRpZiAodGhpcy5maWxlRXhwbG9yZXJJY29uKSB7XHJcblx0XHRcdHRoaXMuZmlsZUV4cGxvcmVySWNvbi5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy5maWxlRXhwbG9yZXJJY29uID0gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV4cGxvcmVyRm9jdXNQbHVnaW47XHJcblxyXG4iLCAiY29uc3QgbGFuZyA9IHtcclxuICBmb2N1czogXCJGb2N1c1wiLFxyXG4gIGVudGVyRm9jdXMgOiBcIkVudGVyIGZvY3VzXCIsXHJcbiAgZXhpdEZvY3VzOiBcIkV4aXQgZm9jdXNcIixcclxuICB0b2dnbGVGb2N1czogXCJUb2dnbGUgZm9jdXNcIixcclxuICBzZXR0aW5nczogXCJFeHBsb3JlciBGb2N1cyBTZXR0aW5nc1wiLFxyXG4gIHNob3dSaWdodENsaWNrTWVudTogXCJTaG93IHJpZ2h0LWNsaWNrIG1lbnUgb3B0aW9uXCIsXHJcbiAgc2hvd0ZpbGVFeHBsb3Jlckljb246IFwiU2hvdyBmaWxlIGV4cGxvcmVyIGljb25cIixcclxuICBmb2N1c0xldmVsOiBcIkNvbW1hbmQgZm9jdXMgbGV2ZWxcIixcclxuICBmb2N1c0xldmVsRmlsZTogXCJDdXJyZW50IGZpbGUgb25seVwiLFxyXG4gIGZvY3VzTGV2ZWxQYXJlbnQ6IFwiUGFyZW50IGZvbGRlclwiLFxyXG4gIGZvY3VzTGV2ZWxHcmFuZHBhcmVudDogXCJHcmFuZHBhcmVudCBmb2xkZXJcIixcclxuICBmb2N1c0xldmVsR3JlYXRHcmFuZHBhcmVudDogXCJHcmVhdCBncmFuZHBhcmVudCBmb2xkZXJcIixcclxuICBmb2N1c0xldmVsQ3VzdG9tOiBcIlNwZWNpZmljIGZvbGRlclwiLFxyXG4gIGZvY3VzTGV2ZWxEZXNjOiBcIkRldGVybWluZXMgd2hhdCB0byBmb2N1cyB3aGVuIHVzaW5nIHRoZSB0b2dnbGUgY29tbWFuZCBvciBmaWxlIGV4cGxvcmVyIGljb24uIFJpZ2h0LWNsaWNrIG1lbnUgYWx3YXlzIGZvY3VzZXMgdGhlIGNsaWNrZWQgZmlsZS9mb2xkZXIuXCIsXHJcbiAgY3VzdG9tRm9sZGVyUGF0aDogXCJDdXN0b20gZm9sZGVyIHBhdGhcIixcclxuICBjdXN0b21Gb2xkZXJQYXRoRGVzYzogXCJFbnRlciBhIGZvbGRlciBwYXRoIChmb2xkZXIvc3ViZm9sZGVyKS4gVGhpcyBmb2xkZXIgd2lsbCBiZSBmb2N1c2VkIHJlZ2FyZGxlc3Mgb2Ygd2hpY2ggZmlsZSBpcyBvcGVuLlwiLFxyXG4gIGhpZGVBbmNlc3RvckZvbGRlcnM6IFwiSGlkZSBhbmNlc3RyYWwgaW5kZW50c1wiLFxyXG4gIGhpZGVBbmNlc3RvckZvbGRlcnNEZXNjOiBcIldoZW4gZW5hYmxlZCwgaGlkZXMgcGFyZW50IGZvbGRlciBpbmRlbnRhdGlvbiB3aGVuIGZvY3VzaW5nLCBtYWtpbmcgdGhlIGZvY3VzZWQgZm9sZGVyIGFwcGVhciBhdCByb290IGxldmVsLlwiLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsYW5nXHJcbiIsICJjb25zdCBsYW5nID0ge1xyXG4gIGZvY3VzOiBcIlx1NEUxM1x1NkNFOFwiLFxyXG4gIGVudGVyRm9jdXMgOiBcIlx1NEUxM1x1NkNFOFwiLFxyXG4gIGV4aXRGb2N1czogXCJcdTkwMDBcdTUxRkFcdTRFMTNcdTZDRThcIixcclxuICB0b2dnbGVGb2N1czogXCJcdTUyMDdcdTYzNjJcdTRFMTNcdTZDRThcIixcclxuICBzZXR0aW5nczogXCJcdThENDRcdTZFOTBcdTdCQTFcdTc0MDZcdTU2NjhcdTRFMTNcdTZDRThcdThCQkVcdTdGNkVcIixcclxuICBzaG93UmlnaHRDbGlja01lbnU6IFwiXHU2NjNFXHU3OTNBXHU1M0YzXHU5NTJFXHU4M0RDXHU1MzU1XHU5MDA5XHU5ODc5XCIsXHJcbiAgc2hvd0ZpbGVFeHBsb3Jlckljb246IFwiXHU2NjNFXHU3OTNBXHU2NTg3XHU0RUY2XHU2RDRGXHU4OUM4XHU1NjY4XHU1NkZFXHU2ODA3XCIsXHJcbiAgZm9jdXNMZXZlbDogXCJcdTU0N0RcdTRFRTRcdTRFMTNcdTZDRThcdTdFQTdcdTUyMkJcIixcclxuICBmb2N1c0xldmVsRmlsZTogXCJcdTRFQzVcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcIixcclxuICBmb2N1c0xldmVsUGFyZW50OiBcIlx1NzIzNlx1NjU4N1x1NEVGNlx1NTkzOVwiLFxyXG4gIGZvY3VzTGV2ZWxHcmFuZHBhcmVudDogXCJcdTc5NTZcdTcyMzZcdTY1ODdcdTRFRjZcdTU5MzlcIixcclxuICBmb2N1c0xldmVsR3JlYXRHcmFuZHBhcmVudDogXCJcdTY2RkVcdTc5NTZcdTcyMzZcdTY1ODdcdTRFRjZcdTU5MzlcIixcclxuICBmb2N1c0xldmVsQ3VzdG9tOiBcIlx1NzI3OVx1NUI5QVx1NjU4N1x1NEVGNlx1NTkzOVwiLFxyXG4gIGZvY3VzTGV2ZWxEZXNjOiBcIlx1Nzg2RVx1NUI5QVx1NEY3Rlx1NzUyOFx1NTIwN1x1NjM2Mlx1NTQ3RFx1NEVFNFx1NjIxNlx1NjU4N1x1NEVGNlx1NkQ0Rlx1ODlDOFx1NTY2OFx1NTZGRVx1NjgwN1x1NjVGNlx1ODk4MVx1ODA1QVx1NzEyNlx1NzY4NFx1NTE4NVx1NUJCOVx1MzAwMlx1NTNGM1x1OTUyRVx1ODNEQ1x1NTM1NVx1NTlDQlx1N0VDOFx1ODA1QVx1NzEyNlx1NTM1NVx1NTFGQlx1NzY4NFx1NjU4N1x1NEVGNi9cdTY1ODdcdTRFRjZcdTU5MzlcdTMwMDJcIixcclxuICBjdXN0b21Gb2xkZXJQYXRoOiBcIlx1ODFFQVx1NUI5QVx1NEU0OVx1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NFwiLFxyXG4gIGN1c3RvbUZvbGRlclBhdGhEZXNjOiBcIlx1OEY5M1x1NTE2NVx1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NFx1RkYwOFx1NjU4N1x1NEVGNlx1NTkzOS9cdTVCNTBcdTY1ODdcdTRFRjZcdTU5MzlcdUZGMDlcdTMwMDJcdTY1RTBcdThCQkFcdTYyNTNcdTVGMDBcdTU0RUFcdTRFMkFcdTY1ODdcdTRFRjZcdUZGMENcdTkwRkRcdTRGMUFcdTgwNUFcdTcxMjZcdTZCNjRcdTY1ODdcdTRFRjZcdTU5MzlcdTMwMDJcIixcclxuICBoaWRlQW5jZXN0b3JGb2xkZXJzOiBcIlx1OTY5MFx1ODVDRlx1Nzk1Nlx1NTE0OFx1N0YyOVx1OEZEQlwiLFxyXG4gIGhpZGVBbmNlc3RvckZvbGRlcnNEZXNjOiBcIlx1NTQyRlx1NzUyOFx1NTQwRVx1RkYwQ1x1ODA1QVx1NzEyNlx1NjVGNlx1OTY5MFx1ODVDRlx1NzIzNlx1NjU4N1x1NEVGNlx1NTkzOVx1N0YyOVx1OEZEQlx1RkYwQ1x1NEY3Rlx1ODA1QVx1NzEyNlx1NzY4NFx1NjU4N1x1NEVGNlx1NTkzOVx1NjYzRVx1NzkzQVx1NTcyOFx1NjgzOVx1N0VBN1x1NTIyQlx1MzAwMlwiLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBsYW5nIiwgImltcG9ydCBlbiBmcm9tICcuL2VuJztcclxuaW1wb3J0IHpoIGZyb20gJy4vemgnO1xyXG5cclxuY29uc3QgbGFuZ3MgPSB7XHJcbiAgZW4sXHJcbiAgemgsXHJcbn1cclxuZXhwb3J0IHR5cGUgTGFuZyA9IHR5cGVvZiBsYW5ncy5lbjtcclxuZXhwb3J0IGRlZmF1bHQgbGFuZ3MiLCAiZXhwb3J0IGludGVyZmFjZSBFeHBsb3JlckZvY3VzU2V0dGluZ3Mge1xuXHRzaG93UmlnaHRDbGlja01lbnU6IGJvb2xlYW47XG5cdHNob3dGaWxlRXhwbG9yZXJJY29uOiBib29sZWFuO1xuXHRmb2N1c0xldmVsOiAnZmlsZScgfCAncGFyZW50JyB8ICdncmFuZHBhcmVudCcgfCAnZ3JlYXRncmFuZHBhcmVudCcgfCAnY3VzdG9tJztcblx0Y3VzdG9tRm9sZGVyUGF0aDogc3RyaW5nO1xuXHRoaWRlQW5jZXN0b3JGb2xkZXJzOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRXhwbG9yZXJGb2N1c1NldHRpbmdzID0ge1xuXHRzaG93UmlnaHRDbGlja01lbnU6IHRydWUsXG5cdHNob3dGaWxlRXhwbG9yZXJJY29uOiB0cnVlLFxuXHRmb2N1c0xldmVsOiAncGFyZW50Jyxcblx0Y3VzdG9tRm9sZGVyUGF0aDogJycsXG5cdGhpZGVBbmNlc3RvckZvbGRlcnM6IGZhbHNlXG59O1xuXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IEV4cGxvcmVyRm9jdXNQbHVnaW4gfSBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQgeyBnZXRBbGxGaWxlRXhwbG9yZXJzIH0gZnJvbSBcIi4uL3V0aWxzL2ZpbGUtZXhwbG9yZXItcGF0Y2hcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2V0dGluZ3NHcm91cCB9IGZyb20gXCIuLi91dGlscy9zZXR0aW5ncy1jb21wYXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFeHBsb3JlckZvY3VzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogRXhwbG9yZXJGb2N1c1BsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRXhwbG9yZXJGb2N1c1BsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdC8vIEZpcnN0IGdyb3VwIChubyBoZWFkaW5nKVxyXG5cdFx0Y29uc3QgZ2VuZXJhbEdyb3VwID0gY3JlYXRlU2V0dGluZ3NHcm91cChjb250YWluZXJFbCk7XHJcblxyXG5cdFx0Z2VuZXJhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLmxhbmcuc2hvd1JpZ2h0Q2xpY2tNZW51KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dSaWdodENsaWNrTWVudSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1JpZ2h0Q2xpY2tNZW51ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Z2VuZXJhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcclxuXHRcdFx0c2V0dGluZ1xyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLmxhbmcuc2hvd0ZpbGVFeHBsb3Jlckljb24pXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVFeHBsb3Jlckljb24pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlRXhwbG9yZXJJY29uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi51cGRhdGVGaWxlRXhwbG9yZXJJY29uKCk7XHJcblx0XHRcdFx0XHR9KSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRzZXR0aW5nXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4ubGFuZy5mb2N1c0xldmVsKVxyXG5cdFx0XHRcdC5zZXREZXNjKHRoaXMucGx1Z2luLmxhbmcuZm9jdXNMZXZlbERlc2MpXHJcblx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdmaWxlJywgdGhpcy5wbHVnaW4ubGFuZy5mb2N1c0xldmVsRmlsZSlcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ3BhcmVudCcsIHRoaXMucGx1Z2luLmxhbmcuZm9jdXNMZXZlbFBhcmVudClcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2dyYW5kcGFyZW50JywgdGhpcy5wbHVnaW4ubGFuZy5mb2N1c0xldmVsR3JhbmRwYXJlbnQpXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9uKCdncmVhdGdyYW5kcGFyZW50JywgdGhpcy5wbHVnaW4ubGFuZy5mb2N1c0xldmVsR3JlYXRHcmFuZHBhcmVudClcclxuXHRcdFx0XHRcdC5hZGRPcHRpb24oJ2N1c3RvbScsIHRoaXMucGx1Z2luLmxhbmcuZm9jdXNMZXZlbEN1c3RvbSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2N1c0xldmVsKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvY3VzTGV2ZWwgPSB2YWx1ZSBhcyAnZmlsZScgfCAncGFyZW50JyB8ICdncmFuZHBhcmVudCcgfCAnZ3JlYXRncmFuZHBhcmVudCcgfCAnY3VzdG9tJztcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdC8vIFJlZnJlc2ggZmlsZSBleHBsb3JlciBpZiBpbiBmb2N1cyBtb2RlXHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5pc0ZvY3VzKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZmlsZUV4cGxvcmVycyA9IGdldEFsbEZpbGVFeHBsb3JlcnModGhpcy5wbHVnaW4pO1xyXG5cdFx0XHRcdFx0XHRcdGZpbGVFeHBsb3JlcnMuZm9yRWFjaCgoZmlsZUV4cGxvcmVyKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZmlsZUV4cGxvcmVyPy5yZXF1ZXN0U29ydCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlRXhwbG9yZXIucmVxdWVzdFNvcnQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8gUmVmcmVzaCB0byBzaG93L2hpZGUgY3VzdG9tIGZvbGRlciBpbnB1dFxyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIGN1c3RvbSBmb2xkZXIgcGF0aCBpbnB1dCB0aGF0IG9ubHkgc2hvd3Mgd2hlbiBjdXN0b20gaXMgc2VsZWN0ZWRcclxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2N1c0xldmVsID09PSAnY3VzdG9tJykge1xyXG5cdFx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xyXG5cdFx0XHRcdHNldHRpbmdcclxuXHRcdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLmxhbmcuY3VzdG9tRm9sZGVyUGF0aClcclxuXHRcdFx0XHRcdC5zZXREZXNjKHRoaXMucGx1Z2luLmxhbmcuY3VzdG9tRm9sZGVyUGF0aERlc2MpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdGb2xkZXIvc3ViZm9sZGVyJylcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGgpXHJcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jdXN0b21Gb2xkZXJQYXRoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxufVxyXG5cclxuIiwgImZ1bmN0aW9uIGFyb3VuZChvYmosIGZhY3Rvcmllcykge1xuICBjb25zdCByZW1vdmVycyA9IE9iamVjdC5rZXlzKGZhY3RvcmllcykubWFwKChrZXkpID0+IGFyb3VuZDEob2JqLCBrZXksIGZhY3Rvcmllc1trZXldKSk7XG4gIHJldHVybiByZW1vdmVycy5sZW5ndGggPT09IDEgPyByZW1vdmVyc1swXSA6IGZ1bmN0aW9uKCkge1xuICAgIHJlbW92ZXJzLmZvckVhY2goKHIpID0+IHIoKSk7XG4gIH07XG59XG5mdW5jdGlvbiBhcm91bmQxKG9iaiwgbWV0aG9kLCBjcmVhdGVXcmFwcGVyKSB7XG4gIGNvbnN0IGluaGVyaXRlZCA9IG9ialttZXRob2RdLCBoYWRPd24gPSBvYmouaGFzT3duUHJvcGVydHkobWV0aG9kKSwgb3JpZ2luYWwgPSBoYWRPd24gPyBpbmhlcml0ZWQgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iailbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuICBsZXQgY3VycmVudCA9IGNyZWF0ZVdyYXBwZXIob3JpZ2luYWwpO1xuICBpZiAoaW5oZXJpdGVkKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihjdXJyZW50LCBpbmhlcml0ZWQpO1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgY3VycmVudCk7XG4gIG9ialttZXRob2RdID0gd3JhcHBlcjtcbiAgcmV0dXJuIHJlbW92ZTtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG9yaWdpbmFsICYmIG9ialttZXRob2RdID09PSB3cmFwcGVyKVxuICAgICAgcmVtb3ZlKCk7XG4gICAgcmV0dXJuIGN1cnJlbnQuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIGlmIChvYmpbbWV0aG9kXSA9PT0gd3JhcHBlcikge1xuICAgICAgaWYgKGhhZE93bilcbiAgICAgICAgb2JqW21ldGhvZF0gPSBvcmlnaW5hbDtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVsZXRlIG9ialttZXRob2RdO1xuICAgIH1cbiAgICBpZiAoY3VycmVudCA9PT0gb3JpZ2luYWwpXG4gICAgICByZXR1cm47XG4gICAgY3VycmVudCA9IG9yaWdpbmFsO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih3cmFwcGVyLCBpbmhlcml0ZWQgfHwgRnVuY3Rpb24pO1xuICB9XG59XG5mdW5jdGlvbiBkZWR1cGUoa2V5LCBvbGRGbiwgbmV3Rm4pIHtcbiAgY2hlY2tba2V5XSA9IGtleTtcbiAgcmV0dXJuIGNoZWNrO1xuICBmdW5jdGlvbiBjaGVjayguLi5hcmdzKSB7XG4gICAgcmV0dXJuIChvbGRGbltrZXldID09PSBrZXkgPyBvbGRGbiA6IG5ld0ZuKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxufVxuZnVuY3Rpb24gYWZ0ZXIocHJvbWlzZSwgY2IpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihjYiwgY2IpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplKGFzeW5jRnVuY3Rpb24pIHtcbiAgbGV0IGxhc3RSdW4gPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGxhc3RSdW4gPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgIGFmdGVyKGxhc3RSdW4sICgpID0+IHtcbiAgICAgICAgYXN5bmNGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKS50aGVuKHJlcywgcmVqKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHdyYXBwZXIuYWZ0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbGFzdFJ1biA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgYWZ0ZXIobGFzdFJ1biwgcmVzKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbmV4cG9ydCB7IGFmdGVyLCBhcm91bmQsIGRlZHVwZSwgc2VyaWFsaXplIH07XG4iLCAiaW1wb3J0IHsgVmlldywgVEFic3RyYWN0RmlsZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBhcm91bmQgfSBmcm9tIFwibW9ua2V5LWFyb3VuZFwiO1xyXG5pbXBvcnQgeyBFeHBsb3JlckZvY3VzUGx1Z2luIH0gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IFwiLi4vdHlwZXMuZFwiO1xyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9ucyBmcm9tIG1vZHVsZSBhdWdtZW50YXRpb25cclxudHlwZSBQYXRoVmlydHVhbEVsZW1lbnQgPSB7XHJcblx0Y2hpbGRyZW5FbDogSFRNTEVsZW1lbnQ7XHJcblx0Y29sbGFwc2VFbDogSFRNTEVsZW1lbnQ7XHJcblx0Y29sbGFwc2VkOiBib29sZWFuO1xyXG5cdGNvbGxhcHNpYmxlOiBib29sZWFuO1xyXG5cdGNvdmVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdGVsOiBIVE1MRWxlbWVudDtcclxuXHRmaWxlOiBUQWJzdHJhY3RGaWxlO1xyXG5cdGluZm86IHtcclxuXHRcdGNoaWxkTGVmdDogbnVtYmVyO1xyXG5cdFx0Y2hpbGRMZWZ0UGFkZGluZzogbnVtYmVyO1xyXG5cdFx0Y2hpbGRUb3A6IG51bWJlcjtcclxuXHRcdGNvbXB1dGVkOiBib29sZWFuO1xyXG5cdFx0aGVpZ2h0OiBudW1iZXI7XHJcblx0XHRoaWRkZW46IGJvb2xlYW47XHJcblx0XHRwaW5uZWQ/OiBib29sZWFuO1xyXG5cdFx0bmV4dDogYm9vbGVhbjtcclxuXHRcdHF1ZXVlZDogYm9vbGVhbjtcclxuXHRcdHdpZHRoOiBudW1iZXI7XHJcblx0fTtcclxuXHRpbm5lckVsOiBIVE1MRWxlbWVudDtcclxuXHRwYXJlbnQ/OiBQYXRoVmlydHVhbEVsZW1lbnQ7XHJcblx0cHVzaGVyRWw6IEhUTUxFbGVtZW50O1xyXG5cdHNlbGZFbDogSFRNTEVsZW1lbnQ7XHJcblx0dkNoaWxkcmVuOiB7XHJcblx0XHRjaGlsZHJlbjogUGF0aFZpcnR1YWxFbGVtZW50O1xyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBGaWxlRXhwbG9yZXJWaWV3ID0gVmlldyAmIHtcclxuXHRyZXF1ZXN0U29ydCgpOiB2b2lkO1xyXG5cdGZpbGVFeHBsb3JlclBsdXNQYXRjaGVkPzogYm9vbGVhbjtcclxuXHRmaWxlSXRlbXM6IHtcclxuXHRcdFtrZXk6IHN0cmluZ106IFBhdGhWaXJ0dWFsRWxlbWVudDtcclxuXHR9O1xyXG5cdGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcclxufTtcclxuXHJcbnR5cGUgR2V0U29ydGVkRm9sZGVySXRlbXNGdW5jdGlvbiA9IChmb2xkZXI6IFRBYnN0cmFjdEZpbGUpID0+IFBhdGhWaXJ0dWFsRWxlbWVudFtdO1xyXG5cclxuLy8gR2xvYmFsIGZsYWcgdG8gdHJhY2sgaWYgcHJvdG90eXBlIGhhcyBiZWVuIHBhdGNoZWRcclxubGV0IHByb3RvdHlwZVBhdGNoZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXRjaEZpbGVFeHBsb3JlcihwbHVnaW46IEV4cGxvcmVyRm9jdXNQbHVnaW4pOiB2b2lkIHtcclxuXHRjb25zdCBmaWxlRXhwbG9yZXIgPSBnZXRGaWxlRXhwbG9yZXIocGx1Z2luKTtcclxuXHJcblx0aWYgKCFmaWxlRXhwbG9yZXIpIHtcclxuXHRcdHJldHVybjsgLy8gRmlsZSBleHBsb3JlciBub3QgYXZhaWxhYmxlIHlldCwgd2lsbCBiZSBwYXRjaGVkIG9uIGxheW91dC1jaGFuZ2VcclxuXHR9XHJcblxyXG5cdC8vIFBhdGNoIHRoZSBwcm90b3R5cGUgb25seSBvbmNlIChhZmZlY3RzIGFsbCBpbnN0YW5jZXMpXHJcblx0aWYgKCFwcm90b3R5cGVQYXRjaGVkKSB7XHJcblx0XHRjb25zdCBsZWFmID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcclxuXHJcblx0XHRwbHVnaW4ucmVnaXN0ZXIoXHJcblx0XHRcdGFyb3VuZChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmlsZUV4cGxvcmVyKSwge1xyXG5cdFx0XHRcdGdldFNvcnRlZEZvbGRlckl0ZW1zKG9sZDogR2V0U29ydGVkRm9sZGVySXRlbXNGdW5jdGlvbikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBGaWxlRXhwbG9yZXJWaWV3LCBmb2xkZXI6IFRBYnN0cmFjdEZpbGUpOiBQYXRoVmlydHVhbEVsZW1lbnRbXSB7XHJcblx0XHRcdFx0XHRcdGxldCBzb3J0ZWRDaGlsZHJlbjogUGF0aFZpcnR1YWxFbGVtZW50W10gPSBvbGQuY2FsbCh0aGlzLCBmb2xkZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQXBwbHkgZm9jdXMgaGlkaW5nIGlmIGZvY3VzIG1vZGUgaXMgYWN0aXZlXHJcblx0XHRcdFx0XHRcdGlmIChwbHVnaW4uaXNGb2N1cyAmJiBwbHVnaW4uZm9jdXNlZFBhdGgpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmb2N1c2VkUGF0aCA9IHBsdWdpbi5mb2N1c2VkUGF0aDtcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRzb3J0ZWRDaGlsZHJlbiA9IHNvcnRlZENoaWxkcmVuLmZpbHRlcigodkVsKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBmaWxlUGF0aCA9IHZFbC5maWxlLnBhdGg7XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFNob3cgaXRlbXMgdGhhdCBtYXRjaCB0aGUgZm9jdXNlZCBwYXRoIGV4YWN0bHlcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChmaWxlUGF0aCA9PT0gZm9jdXNlZFBhdGgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dkVsLmluZm8uaGlkZGVuID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBTaG93IGl0ZW1zIHRoYXQgYXJlIGNoaWxkcmVuIG9mIHRoZSBmb2N1c2VkIHBhdGhcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChmaWxlUGF0aC5zdGFydHNXaXRoKGZvY3VzZWRQYXRoICsgXCIvXCIpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHZFbC5pbmZvLmhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU2hvdyBpdGVtcyB0aGF0IGFyZSBhbmNlc3RvcnMgb2YgdGhlIGZvY3VzZWQgcGF0aCAocGFyZW50IGNoYWluKVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZvY3VzZWRQYXRoLnN0YXJ0c1dpdGgoZmlsZVBhdGggKyBcIi9cIikpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dkVsLmluZm8uaGlkZGVuID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBIaWRlIGV2ZXJ5dGhpbmcgZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dkVsLmluZm8uaGlkZGVuID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBFbnN1cmUgYWxsIGl0ZW1zIGFyZSB2aXNpYmxlIHdoZW4gbm90IGluIGZvY3VzIG1vZGVcclxuXHRcdFx0XHRcdFx0XHRzb3J0ZWRDaGlsZHJlbi5mb3JFYWNoKCh2RWwpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdHZFbC5pbmZvLmhpZGRlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gc29ydGVkQ2hpbGRyZW47XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdH0pLFxyXG5cdFx0KTtcclxuXHJcblx0XHRsZWFmLmRldGFjaCgpO1xyXG5cdFx0cHJvdG90eXBlUGF0Y2hlZCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHQvLyBNYXJrIHRoaXMgaW5zdGFuY2UgYXMgcGF0Y2hlZFxyXG5cdGZpbGVFeHBsb3Jlci5maWxlRXhwbG9yZXJQbHVzUGF0Y2hlZCA9IHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRXhwbG9yZXIocGx1Z2luOiBFeHBsb3JlckZvY3VzUGx1Z2luKTogRmlsZUV4cGxvcmVyVmlldyB8IHVuZGVmaW5lZCB7XHJcblx0Y29uc3QgZmlsZUV4cGxvcmVyQ29udGFpbmVyID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwiZmlsZS1leHBsb3JlclwiKT8uZmlyc3QoKTtcclxuXHRyZXR1cm4gZmlsZUV4cGxvcmVyQ29udGFpbmVyPy52aWV3IGFzIEZpbGVFeHBsb3JlclZpZXc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxGaWxlRXhwbG9yZXJzKHBsdWdpbjogRXhwbG9yZXJGb2N1c1BsdWdpbik6IEZpbGVFeHBsb3JlclZpZXdbXSB7XHJcblx0Y29uc3QgZmlsZUV4cGxvcmVyTGVhdmVzID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwiZmlsZS1leHBsb3JlclwiKTtcclxuXHRyZXR1cm4gZmlsZUV4cGxvcmVyTGVhdmVzLm1hcChsZWFmID0+IGxlYWYudmlldyBhcyBGaWxlRXhwbG9yZXJWaWV3KTtcclxufVxyXG5cclxuIiwgIi8qKlxyXG4gKiBDb21wYXRpYmlsaXR5IHV0aWxpdGllcyBmb3Igc2V0dGluZ3NcclxuICogUHJvdmlkZXMgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgU2V0dGluZ0dyb3VwIChyZXF1aXJlcyBBUEkgMS4xMS4wKylcclxuICovXHJcblxyXG5pbXBvcnQgeyBTZXR0aW5nLCByZXF1aXJlQXBpVmVyc2lvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgT2JzaWRpYW5Nb2R1bGUgZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSB0aGF0IHdvcmtzIHdpdGggYm90aCBTZXR0aW5nR3JvdXAgYW5kIGZhbGxiYWNrIGNvbnRhaW5lclxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc0NvbnRhaW5lciB7XHJcblx0YWRkU2V0dGluZyhjYjogKHNldHRpbmc6IFNldHRpbmcpID0+IHZvaWQpOiB2b2lkO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIHNldHRpbmdzIGNvbnRhaW5lciB0aGF0IHVzZXMgU2V0dGluZ0dyb3VwIGlmIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspLFxyXG4gKiBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBjcmVhdGluZyBhIGhlYWRpbmcgYW5kIHVzaW5nIHRoZSBjb250YWluZXIgZGlyZWN0bHkuXHJcbiAqIFxyXG4gKiBVc2VzIHJlcXVpcmVBcGlWZXJzaW9uKCcxLjExLjAnKSB0byBjaGVjayBpZiBTZXR0aW5nR3JvdXAgaXMgYXZhaWxhYmxlLlxyXG4gKiBUaGlzIGlzIHRoZSBvZmZpY2lhbCBPYnNpZGlhbiBBUEkgbWV0aG9kIGZvciB2ZXJzaW9uIGNoZWNraW5nLlxyXG4gKiBcclxuICogQHBhcmFtIGNvbnRhaW5lckVsIC0gVGhlIGNvbnRhaW5lciBlbGVtZW50IGZvciBzZXR0aW5nc1xyXG4gKiBAcGFyYW0gaGVhZGluZyAtIFRoZSBoZWFkaW5nIHRleHQgZm9yIHRoZSBzZXR0aW5ncyBncm91cCAob3B0aW9uYWwpXHJcbiAqIEByZXR1cm5zIEEgY29udGFpbmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIHNldHRpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NHcm91cChcclxuXHRjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXHJcblx0aGVhZGluZz86IHN0cmluZ1xyXG4pOiBTZXR0aW5nc0NvbnRhaW5lciB7XHJcblx0Ly8gQ2hlY2sgaWYgU2V0dGluZ0dyb3VwIGlzIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspXHJcblx0Ly8gcmVxdWlyZUFwaVZlcnNpb24gaXMgdGhlIG9mZmljaWFsIE9ic2lkaWFuIEFQSSBtZXRob2QgZm9yIHZlcnNpb24gY2hlY2tpbmdcclxuXHRpZiAocmVxdWlyZUFwaVZlcnNpb24oJzEuMTEuMCcpKSB7XHJcblx0XHQvLyBVc2UgU2V0dGluZ0dyb3VwIC0gaXQncyBndWFyYW50ZWVkIHRvIGV4aXN0IGlmIHJlcXVpcmVBcGlWZXJzaW9uIHJldHVybnMgdHJ1ZVxyXG5cdFx0Ly8gQWNjZXNzIFNldHRpbmdHcm91cCB2aWEgdHlwZSBhc3NlcnRpb24gc2luY2UgaXQgbWF5IG5vdCBiZSBpbiB0eXBlIGRlZmluaXRpb25zXHJcblx0XHQvLyBmb3Igb2xkZXIgVHlwZVNjcmlwdCB2ZXJzaW9ucywgYnV0IGV4aXN0cyBhdCBydW50aW1lIGluIE9ic2lkaWFuIDEuMTEuMCtcclxuXHRcdC8vIFVzaW5nIHVua25vd24gaW5zdGVhZCBvZiBhbnkgdG8gc2F0aXNmeSBlc2xpbnQgd2hpbGUgbWFpbnRhaW5pbmcgdHlwZSBzYWZldHlcclxuXHRcdGNvbnN0IFNldHRpbmdHcm91cENsYXNzID0gKE9ic2lkaWFuTW9kdWxlIGFzIHVua25vd24gYXMgeyBTZXR0aW5nR3JvdXA/OiBuZXcgKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRzZXRIZWFkaW5nKGhlYWRpbmc6IHN0cmluZyk6IHtcclxuXHRcdFx0XHRhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XHJcblx0XHRcdH07XHJcblx0XHRcdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKTogdm9pZDtcclxuXHRcdH0gfSkuU2V0dGluZ0dyb3VwO1xyXG5cdFx0XHJcblx0XHRpZiAoU2V0dGluZ0dyb3VwQ2xhc3MpIHtcclxuXHRcdFx0Y29uc3QgZ3JvdXAgPSBoZWFkaW5nIFxyXG5cdFx0XHRcdD8gbmV3IFNldHRpbmdHcm91cENsYXNzKGNvbnRhaW5lckVsKS5zZXRIZWFkaW5nKGhlYWRpbmcpXHJcblx0XHRcdFx0OiBuZXcgU2V0dGluZ0dyb3VwQ2xhc3MoY29udGFpbmVyRWwpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKSB7XHJcblx0XHRcdFx0XHRncm91cC5hZGRTZXR0aW5nKGNiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdC8vIEZhbGxiYWNrIHBhdGggKGVpdGhlciBBUEkgPCAxLjExLjAgb3IgU2V0dGluZ0dyb3VwIG5vdCBmb3VuZClcclxuXHR7XHJcblx0XHQvLyBGYWxsYmFjazogQ3JlYXRlIGEgaGVhZGluZyBtYW51YWxseSBmb3Igb2xkZXIgQVBJIHZlcnNpb25zXHJcblx0XHQvLyBOb3RlOiBXaGlsZSBiZXN0IHByYWN0aWNlIHByZWZlcnMgU2V0dGluZy5zZXRIZWFkaW5nKCksIHRoZSBmYWxsYmFjayBwYXRoXHJcblx0XHQvLyBpcyBmb3IgdmVyc2lvbnMgdGhhdCBtYXkgbm90IHN1cHBvcnQgaXQsIHNvIG1hbnVhbCBoZWFkaW5nIGlzIGFwcHJvcHJpYXRlIGhlcmVcclxuXHRcdGlmIChoZWFkaW5nKSB7XHJcblx0XHRcdGNvbnN0IGhlYWRpbmdFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignc2V0dGluZy1ncm91cC1oZWFkaW5nJyk7XHJcblx0XHRcdGhlYWRpbmdFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGhlYWRpbmcgfSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKSB7XHJcblx0XHRcdFx0Y29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKTtcclxuXHRcdFx0XHRjYihzZXR0aW5nKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbiIsICJpbXBvcnQgeyBFeHBsb3JlckZvY3VzU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGb2N1c1BhdGgoXG5cdHBhdGg6IHN0cmluZyxcblx0bGV2ZWw6ICdmaWxlJyB8ICdwYXJlbnQnIHwgJ2dyYW5kcGFyZW50JyB8ICdncmVhdGdyYW5kcGFyZW50JyB8ICdjdXN0b20nLFxuXHRzZXR0aW5nczogRXhwbG9yZXJGb2N1c1NldHRpbmdzXG4pOiBzdHJpbmcge1xuXHRpZiAobGV2ZWwgPT09ICdjdXN0b20nKSB7XG5cdFx0Ly8gVXNlIHRoZSBjdXN0b20gZm9sZGVyIHBhdGggZnJvbSBzZXR0aW5ncywgcmVnYXJkbGVzcyBvZiBjdXJyZW50IGZpbGVcblx0XHRyZXR1cm4gc2V0dGluZ3MuY3VzdG9tRm9sZGVyUGF0aCB8fCBwYXRoO1xuXHR9XG5cblx0aWYgKGxldmVsID09PSAnZmlsZScpIHtcblx0XHRyZXR1cm4gcGF0aDtcblx0fVxuXG5cdGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuXHRcblx0aWYgKGxldmVsID09PSAncGFyZW50Jykge1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcblx0XHRcdHJldHVybiBwYXRoOyAvLyBBbHJlYWR5IGF0IHJvb3Rcblx0XHR9XG5cdFx0cmV0dXJuIHBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKCcvJyk7XG5cdH1cblxuXHRpZiAobGV2ZWwgPT09ICdncmFuZHBhcmVudCcpIHtcblx0XHRpZiAocGFydHMubGVuZ3RoIDw9IDIpIHtcblx0XHRcdHJldHVybiBwYXJ0c1swXSB8fCBwYXRoOyAvLyBSZXR1cm4gcm9vdCBvciBmaXJzdCBwYXJ0XG5cdFx0fVxuXHRcdHJldHVybiBwYXJ0cy5zbGljZSgwLCAtMikuam9pbignLycpO1xuXHR9XG5cblx0Ly8gZ3JlYXRncmFuZHBhcmVudFxuXHRpZiAocGFydHMubGVuZ3RoIDw9IDMpIHtcblx0XHRyZXR1cm4gcGFydHNbMF0gfHwgcGF0aDsgLy8gUmV0dXJuIHJvb3Qgb3IgZmlyc3QgcGFydFxuXHR9XG5cdHJldHVybiBwYXJ0cy5zbGljZSgwLCAtMykuam9pbignLycpO1xufVxuXG4iLCAiaW1wb3J0IHsgRXhwbG9yZXJGb2N1c1BsdWdpbiB9IGZyb20gXCIuLi9tYWluXCI7XG5pbXBvcnQgeyBnZXRGb2N1c1BhdGggfSBmcm9tIFwiLi4vdXRpbHMvZm9jdXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tbWFuZHMocGx1Z2luOiBFeHBsb3JlckZvY3VzUGx1Z2luKTogdm9pZCB7XG5cdC8vIFRvZ2dsZSBmb2N1cyBjb21tYW5kXG5cdHBsdWdpbi5hZGRDb21tYW5kKHtcblx0XHRpZDogXCJ0b2dnbGVcIixcblx0XHRuYW1lOiBwbHVnaW4ubGFuZy50b2dnbGVGb2N1cyxcblx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0aWYgKHBsdWdpbi5pc0ZvY3VzKSB7XG5cdFx0XHRcdHBsdWdpbi5leGl0Rm9jdXMoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChwbHVnaW4uc2V0dGluZ3MuZm9jdXNMZXZlbCA9PT0gJ2N1c3RvbScpIHtcblx0XHRcdFx0XHQvLyBGb3IgY3VzdG9tIGZvbGRlciwgdXNlIHRoZSBjdXN0b20gcGF0aCBkaXJlY3RseVxuXHRcdFx0XHRcdGlmIChwbHVnaW4uc2V0dGluZ3MuY3VzdG9tRm9sZGVyUGF0aCkge1xuXHRcdFx0XHRcdFx0cGx1Z2luLmVudGVyRm9jdXMocGx1Z2luLnNldHRpbmdzLmN1c3RvbUZvbGRlclBhdGgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBGb3Igb3RoZXIgbGV2ZWxzLCBuZWVkIHRoZSBjdXJyZW50IGZpbGVcblx0XHRcdFx0XHRjb25zdCBmaWxlID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdFx0XHRcdGlmIChmaWxlPy5wYXRoKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBmb2N1c1BhdGggPSBnZXRGb2N1c1BhdGgoZmlsZS5wYXRoLCBwbHVnaW4uc2V0dGluZ3MuZm9jdXNMZXZlbCwgcGx1Z2luLnNldHRpbmdzKTtcblx0XHRcdFx0XHRcdHBsdWdpbi5lbnRlckZvY3VzKGZvY3VzUGF0aCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0fSk7XG5cblx0Ly8gRmlsZSBtZW51IGl0ZW1cblx0aWYgKHBsdWdpbi5zZXR0aW5ncy5zaG93UmlnaHRDbGlja01lbnUpIHtcblx0XHRwbHVnaW4ucmVnaXN0ZXJFdmVudChcblx0XHRcdHBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmaWxlKSA9PiB7XG5cdFx0XHRcdGlmICghcGx1Z2luLnNldHRpbmdzLnNob3dSaWdodENsaWNrTWVudSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuXHRcdFx0XHRcdGl0ZW1cblx0XHRcdFx0XHRcdC5zZXRUaXRsZShwbHVnaW4uaXNGb2N1cyA/IHBsdWdpbi5sYW5nLmV4aXRGb2N1cyA6IHBsdWdpbi5sYW5nLmZvY3VzKVxuXHRcdFx0XHRcdFx0LnNldEljb24ocGx1Z2luLmlzRm9jdXMgPyBcImxvZy1vdXRcIiA6IFwiZm9jdXNcIilcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0cGx1Z2luLnRvZ2dsZUZvY3VzKGZpbGU/LnBhdGgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG59XG5cbiIsICJpbXBvcnQgeyBFeHBsb3JlckZvY3VzUGx1Z2luIH0gZnJvbSBcIi4uL21haW5cIjtcblxuLyoqXG4gKiBGaW5kIG9yIGNyZWF0ZSB0aGUgbmF2aWdhdGlvbiBidXR0b25zIGNvbnRhaW5lciBpbiB0aGUgZmlsZSBleHBsb3JlciB2aWV3LlxuICogVHJpZXMgbXVsdGlwbGUgc2VsZWN0b3JzIHRvIHN1cHBvcnQgYm90aCBkZXNrdG9wIGFuZCBtb2JpbGUuXG4gKiBPbiBtb2JpbGUsIGNyZWF0ZXMgYSBjb250YWluZXIgaWYgbm9uZSBleGlzdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTmF2QnV0dG9uc0NvbnRhaW5lcihmaWxlRXhwbG9yZXJWaWV3OiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG5cdC8vIFRyeSBkZXNrdG9wIHNlbGVjdG9yIGZpcnN0XG5cdGxldCBjb250YWluZXIgPSBmaWxlRXhwbG9yZXJWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtYnV0dG9ucy1jb250YWluZXInKTtcblx0aWYgKGNvbnRhaW5lcikge1xuXHRcdHJldHVybiBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG5cdH1cblxuXHQvLyBUcnkgYWx0ZXJuYXRpdmUgc2VsZWN0b3JzIGZvciBtb2JpbGVcblx0Ly8gTW9iaWxlIG1pZ2h0IGhhdmUgdGhlIGJ1dHRvbnMgaW4gYSBkaWZmZXJlbnQgc3RydWN0dXJlXG5cdGNvbnRhaW5lciA9IGZpbGVFeHBsb3JlclZpZXcucXVlcnlTZWxlY3RvcignLm5hdi1oZWFkZXItYnV0dG9uLWNvbnRhaW5lcicpO1xuXHRpZiAoY29udGFpbmVyKSB7XG5cdFx0cmV0dXJuIGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudDtcblx0fVxuXG5cdC8vIFRyeSBmaW5kaW5nIGJ5IGxvb2tpbmcgZm9yIGV4aXN0aW5nIG5hdi1hY3Rpb24tYnV0dG9uIGVsZW1lbnRzXG5cdGNvbnN0IGV4aXN0aW5nQnV0dG9ucyA9IGZpbGVFeHBsb3JlclZpZXcucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1hY3Rpb24tYnV0dG9uJyk7XG5cdGlmIChleGlzdGluZ0J1dHRvbnMubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IGZpcnN0QnV0dG9uID0gZXhpc3RpbmdCdXR0b25zWzBdO1xuXHRcdGNvbnN0IHBhcmVudCA9IGZpcnN0QnV0dG9uLnBhcmVudEVsZW1lbnQ7XG5cdFx0aWYgKHBhcmVudCAmJiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWJ1dHRvbnMtY29udGFpbmVyJykgfHwgXG5cdFx0ICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmF2LWhlYWRlci1idXR0b24tY29udGFpbmVyJykgfHxcblx0XHQgICAgICAgICAgICAgICBBcnJheS5mcm9tKHBhcmVudC5jaGlsZHJlbikuc29tZShlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1hY3Rpb24tYnV0dG9uJykpKSkge1xuXHRcdFx0cmV0dXJuIHBhcmVudDtcblx0XHR9XG5cdH1cblxuXHQvLyBUcnkgZmluZGluZyB0aGUgdmlldyBoZWFkZXIgYW5kIGFwcGVuZGluZyB0byBpdFxuXHRjb25zdCB2aWV3SGVhZGVyID0gZmlsZUV4cGxvcmVyVmlldy5xdWVyeVNlbGVjdG9yKCcudmlldy1oZWFkZXInKSBhcyBIVE1MRWxlbWVudDtcblx0aWYgKHZpZXdIZWFkZXIpIHtcblx0XHQvLyBMb29rIGZvciBhbnkgY29udGFpbmVyIHdpdGggbmF2IGJ1dHRvbnMgaW5zaWRlIHRoZSBoZWFkZXJcblx0XHRjb25zdCBoZWFkZXJDb250YWluZXIgPSB2aWV3SGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtYnV0dG9ucy1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudCB8fFxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgdmlld0hlYWRlci5xdWVyeVNlbGVjdG9yKCcubmF2LWhlYWRlci1idXR0b24tY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQgfHxcblx0XHQgICAgICAgICAgICAgICAgICAgICAgIHZpZXdIZWFkZXIucXVlcnlTZWxlY3RvcignLnZpZXctaGVhZGVyLXRpdGxlLWNvbnRhaW5lcicpIGFzIEhUTUxFbGVtZW50O1xuXHRcdGlmIChoZWFkZXJDb250YWluZXIpIHtcblx0XHRcdHJldHVybiBoZWFkZXJDb250YWluZXI7XG5cdFx0fVxuXHRcdC8vIElmIG5vIGNvbnRhaW5lciBmb3VuZCwgcmV0dXJuIHRoZSBoZWFkZXIgaXRzZWxmIGFzIGZhbGxiYWNrXG5cdFx0cmV0dXJuIHZpZXdIZWFkZXI7XG5cdH1cblxuXHQvLyBNb2JpbGUgZmFsbGJhY2s6IExvb2sgZm9yIG5hdi1maWxlcy1jb250YWluZXIgYW5kIGNyZWF0ZSBhIGJ1dHRvbiBiYXIgYWJvdmUgaXRcblx0Y29uc3QgbmF2RmlsZXNDb250YWluZXIgPSBmaWxlRXhwbG9yZXJWaWV3LnF1ZXJ5U2VsZWN0b3IoJy5uYXYtZmlsZXMtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG5cdGlmIChuYXZGaWxlc0NvbnRhaW5lcikge1xuXHRcdC8vIENoZWNrIGlmIHdlIGFscmVhZHkgY3JlYXRlZCBhIG1vYmlsZSBidXR0b24gY29udGFpbmVyXG5cdFx0bGV0IG1vYmlsZUJ1dHRvbkNvbnRhaW5lciA9IGZpbGVFeHBsb3JlclZpZXcucXVlcnlTZWxlY3RvcignLmV4cGxvcmVyLWZvY3VzLW1vYmlsZS1idXR0b25zJykgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0aWYgKCFtb2JpbGVCdXR0b25Db250YWluZXIpIHtcblx0XHRcdC8vIENyZWF0ZSBhIG1vYmlsZSBidXR0b24gY29udGFpbmVyXG5cdFx0XHRtb2JpbGVCdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdG1vYmlsZUJ1dHRvbkNvbnRhaW5lci5jbGFzc05hbWUgPSAnbmF2LWJ1dHRvbnMtY29udGFpbmVyIGV4cGxvcmVyLWZvY3VzLW1vYmlsZS1idXR0b25zJztcblx0XHRcdG1vYmlsZUJ1dHRvbkNvbnRhaW5lci5zZXRDc3NQcm9wcyh7XG5cdFx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdFx0YWxpZ25JdGVtczogJ2NlbnRlcicsXG5cdFx0XHRcdGdhcDogJzRweCcsXG5cdFx0XHRcdHBhZGRpbmc6ICc4cHgnLFxuXHRcdFx0XHRib3JkZXJCb3R0b206ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJ1xuXHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIEluc2VydCBpdCBiZWZvcmUgdGhlIG5hdi1maWxlcy1jb250YWluZXJcblx0XHRcdG5hdkZpbGVzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQ/Lmluc2VydEJlZm9yZShtb2JpbGVCdXR0b25Db250YWluZXIsIG5hdkZpbGVzQ29udGFpbmVyKTtcblx0XHR9XG5cdFx0cmV0dXJuIG1vYmlsZUJ1dHRvbkNvbnRhaW5lcjtcblx0fVxuXG5cdC8vIExhc3QgcmVzb3J0OiBjcmVhdGUgYSBjb250YWluZXIgYXQgdGhlIHRvcCBvZiB0aGUgdmlld1xuXHRsZXQgdG9wQ29udGFpbmVyID0gZmlsZUV4cGxvcmVyVmlldy5xdWVyeVNlbGVjdG9yKCcuZXhwbG9yZXItZm9jdXMtbW9iaWxlLWJ1dHRvbnMnKSBhcyBIVE1MRWxlbWVudDtcblx0aWYgKCF0b3BDb250YWluZXIpIHtcblx0XHR0b3BDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0b3BDb250YWluZXIuY2xhc3NOYW1lID0gJ25hdi1idXR0b25zLWNvbnRhaW5lciBleHBsb3Jlci1mb2N1cy1tb2JpbGUtYnV0dG9ucyc7XG5cdFx0dG9wQ29udGFpbmVyLnNldENzc1Byb3BzKHtcblx0XHRcdGRpc3BsYXk6ICdmbGV4Jyxcblx0XHRcdGFsaWduSXRlbXM6ICdjZW50ZXInLFxuXHRcdFx0Z2FwOiAnNHB4Jyxcblx0XHRcdHBhZGRpbmc6ICc4cHgnLFxuXHRcdFx0Ym9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSdcblx0XHR9KTtcblx0XHRcblx0XHQvLyBJbnNlcnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdmlld1xuXHRcdGZpbGVFeHBsb3JlclZpZXcuaW5zZXJ0QmVmb3JlKHRvcENvbnRhaW5lciwgZmlsZUV4cGxvcmVyVmlldy5maXJzdENoaWxkKTtcblx0fVxuXHRyZXR1cm4gdG9wQ29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsZUV4cGxvcmVySWNvbihwbHVnaW46IEV4cGxvcmVyRm9jdXNQbHVnaW4pOiBIVE1MRWxlbWVudCB7XG5cdGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0aWNvbi5jbGFzc05hbWUgPSAnY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b24nO1xuXHRpY29uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHBsdWdpbi5sYW5nLnRvZ2dsZUZvY3VzKTtcblxuXHQvLyBDcmVhdGUgdGhlIGZvY3VzIGljb24gU1ZHXG5cdGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzI0Jyk7XG5cdHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsICcyNCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAyNCAyNCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcblx0c3ZnLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2N1cnJlbnRDb2xvcicpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMicpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWNhcCcsICdyb3VuZCcpO1xuXHRzdmcuc2V0QXR0cmlidXRlKCdzdHJva2UtbGluZWpvaW4nLCAncm91bmQnKTtcblx0c3ZnLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3ZnLWljb24gbHVjaWRlLWZvY3VzJyk7XG5cdFxuXHQvLyBMdWNpZGUgZm9jdXMgaWNvbiAtIGNpcmNsZSB3aXRoIGNvcm5lciBicmFja2V0c1xuXHRjb25zdCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsICcxMicpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsICcxMicpO1xuXHRjaXJjbGUuc2V0QXR0cmlidXRlKCdyJywgJzMnKTtcblx0c3ZnLmFwcGVuZENoaWxkKGNpcmNsZSk7XG5cdFxuXHRjb25zdCBwYXRoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRwYXRoMS5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTMgN1Y1YTIgMiAwIDAgMSAyLTJoMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDEpO1xuXHRcblx0Y29uc3QgcGF0aDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0cGF0aDIuc2V0QXR0cmlidXRlKCdkJywgJ00xNyAzaDJhMiAyIDAgMCAxIDIgMnYyJyk7XG5cdHN2Zy5hcHBlbmRDaGlsZChwYXRoMik7XG5cdFxuXHRjb25zdCBwYXRoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHRwYXRoMy5zZXRBdHRyaWJ1dGUoJ2QnLCAnTTIxIDE3djJhMiAyIDAgMCAxLTIgMmgtMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDMpO1xuXHRcblx0Y29uc3QgcGF0aDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0cGF0aDQuc2V0QXR0cmlidXRlKCdkJywgJ003IDIxSDVhMiAyIDAgMCAxLTItMnYtMicpO1xuXHRzdmcuYXBwZW5kQ2hpbGQocGF0aDQpO1xuXHRcblx0aWNvbi5hcHBlbmRDaGlsZChzdmcpO1xuXHRyZXR1cm4gaWNvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEZpbGVFeHBsb3Jlckljb24oaWNvbjogSFRNTEVsZW1lbnQsIG5hdkJ1dHRvbnNDb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdC8vIERvbid0IGluc2VydCBpZiBhbHJlYWR5IGluIHRoZSBjb250YWluZXJcblx0aWYgKG5hdkJ1dHRvbnNDb250YWluZXIuY29udGFpbnMoaWNvbikpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBGaW5kIHRoZSBwb3NpdGlvbiB0byBpbnNlcnQ6IGFmdGVyIGFsbCBkZWZhdWx0IE9ic2lkaWFuIGljb25zLCBiZWZvcmUgYW55IC5jbWRyIGVsZW1lbnRzXG5cdGNvbnN0IGFsbEljb25zID0gQXJyYXkuZnJvbShuYXZCdXR0b25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbGlja2FibGUtaWNvbi5uYXYtYWN0aW9uLWJ1dHRvbicpKTtcblx0Y29uc3QgZGVmYXVsdEljb25zID0gYWxsSWNvbnMuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NtZHInKSAmJiBlbCAhPT0gaWNvbik7XG5cdGNvbnN0IGNtZHJJY29ucyA9IEFycmF5LmZyb20obmF2QnV0dG9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuY21kcicpKTtcblx0XG5cdGlmIChjbWRySWNvbnMubGVuZ3RoID4gMCkge1xuXHRcdC8vIEluc2VydCBiZWZvcmUgZmlyc3QgY21kciBpY29uXG5cdFx0bmF2QnV0dG9uc0NvbnRhaW5lci5pbnNlcnRCZWZvcmUoaWNvbiwgY21kckljb25zWzBdKTtcblx0fSBlbHNlIGlmIChkZWZhdWx0SWNvbnMubGVuZ3RoID4gMCkge1xuXHRcdC8vIEluc2VydCBhZnRlciBsYXN0IGRlZmF1bHQgaWNvblxuXHRcdGNvbnN0IGxhc3RJY29uID0gZGVmYXVsdEljb25zW2RlZmF1bHRJY29ucy5sZW5ndGggLSAxXTtcblx0XHRpZiAobGFzdEljb24ubmV4dFNpYmxpbmcpIHtcblx0XHRcdG5hdkJ1dHRvbnNDb250YWluZXIuaW5zZXJ0QmVmb3JlKGljb24sIGxhc3RJY29uLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmF2QnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSnVzdCBhcHBlbmQgaWYgbm8gb3RoZXIgaWNvbnNcblx0XHRuYXZCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pO1xuXHR9XG59XG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQTRDOzs7QUNBNUMsSUFBTSxPQUFPO0FBQUEsRUFDWCxPQUFPO0FBQUEsRUFDUCxZQUFhO0FBQUEsRUFDYixXQUFXO0FBQUEsRUFDWCxhQUFhO0FBQUEsRUFDYixVQUFVO0FBQUEsRUFDVixvQkFBb0I7QUFBQSxFQUNwQixzQkFBc0I7QUFBQSxFQUN0QixZQUFZO0FBQUEsRUFDWixnQkFBZ0I7QUFBQSxFQUNoQixrQkFBa0I7QUFBQSxFQUNsQix1QkFBdUI7QUFBQSxFQUN2Qiw0QkFBNEI7QUFBQSxFQUM1QixrQkFBa0I7QUFBQSxFQUNsQixnQkFBZ0I7QUFBQSxFQUNoQixrQkFBa0I7QUFBQSxFQUNsQixzQkFBc0I7QUFBQSxFQUN0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
